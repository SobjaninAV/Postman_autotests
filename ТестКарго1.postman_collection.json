{
	"info": {
		"_postman_id": "fe7a5aba-a441-4d01-a88c-bfde706e8843",
		"name": "ТестКарго1",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "27266900"
	},
	"item": [
		{
			"name": "Токен",
			"item": [
				{
					"name": "Получение токена",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.test(\"Токен получен\", function () {\r",
									"    pm.expect(jsonData.token).to.be.a('string').that.not.empty;\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/auth/token",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"auth",
								"token"
							]
						}
					},
					"response": []
				},
				{
					"name": "Запрет получения токена",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.test(\"Аутентификация токеном доступа запрещена\", function () {\r",
									"    pm.expect(jsonData.error).to.eql(\"Аутентификация токеном доступа запрещена\");\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "ЛекомцеваД",
									"type": "string"
								},
								{
									"key": "password",
									"value": "Za1cifep",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/auth/token",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"auth",
								"token"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Аукцион",
			"item": [
				{
					"name": "Аукцион создание",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var optionsTime = {hours: 'numeric', minutes: 'numeric',};\r",
									"\r",
									"const timeZone = 'Asia/Yekaterinburg';\r",
									"let date = new Date(new Date().toLocaleString(\"en-US\", { timeZone: timeZone }));\r",
									"function formatDate(date) {\r",
									"    const year = date.getFullYear();\r",
									"    const month = String(date.getMonth() + 1).padStart(2, '0');\r",
									"    const day = String(date.getDate()).padStart(2, '0');\r",
									"    const currentDate = `${year}${month}${day}`;\r",
									"    return currentDate.toString().split('T')[0] + 'T' + new Date().toLocaleTimeString(\"ru\", optionsTime);}\r",
									"\r",
									"const dates = [];\r",
									"\r",
									"for (let i = 0; i < 8; i++) {\r",
									"    dates.push(formatDate(date));\r",
									"    date.setDate(date.getDate() + 1);}\r",
									"\r",
									"let currentDate = new Date();\r",
									"let ekaterinburgOffset = 5 * 60;\r",
									"let localOffset = currentDate.getTimezoneOffset();\r",
									"let offsetDifference = ekaterinburgOffset + localOffset;\r",
									"let formattedTime = currentDate.toTimeString().split(' ')[0];\r",
									"currentDate.setMinutes(currentDate.getMinutes() + offsetDifference);\r",
									"const preStartAuction = currentDate.toISOString().split('T')[0] + 'T' + formattedTime;\r",
									"const startAuction = preStartAuction.replace(/-/g, '');\r",
									"currentDate.setHours(currentDate.getHours() + 1);\r",
									"let formattedTime1 = currentDate.toTimeString().split(' ')[0];\r",
									"const formattedDate = currentDate.toISOString().split('T')[0] + 'T' + formattedTime1;\r",
									"const formattedDate1 = formattedDate.replace(/-/g, '');\r",
									"currentDate.setHours(currentDate.getHours() + 1);\r",
									"let formattedTime2 = currentDate.toTimeString().split(' ')[0];\r",
									"const preFormattedDate2 = currentDate.toISOString().split('T')[0] + 'T' + formattedTime2;\r",
									"const formattedDate2 = preFormattedDate2.replace(/-/g, '');\r",
									"console.log(startAuction)\r",
									"pm.collectionVariables.set(\"Старт_Аукциона\", startAuction);\r",
									"pm.collectionVariables.set(\"Стоп_Аукциона\", formattedDate1);\r",
									"pm.collectionVariables.set(\"Старт_Аукциона2\", formattedDate1);\r",
									"pm.collectionVariables.set(\"Стоп_Аукциона2\", formattedDate2);\r",
									"pm.collectionVariables.set(\"Дата2\", dates[1]);\r",
									"pm.collectionVariables.set(\"Дата3\", dates[2]);\r",
									"pm.collectionVariables.set(\"Дата4\", dates[3]);\r",
									"pm.collectionVariables.set(\"Дата5\", dates[4]);\r",
									"pm.collectionVariables.set(\"Дата6\", dates[5]);\r",
									"pm.collectionVariables.set(\"Дата7\", dates[6]);\r",
									"pm.collectionVariables.set(\"Внешняя_Дата1\", dates[6]);\r",
									"pm.collectionVariables.set(\"Внешняя_Дата2\", dates[7]);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.collectionVariables.set(\"order_id\", jsonData.ИдентификаторЗаказа);\r",
									"pm.collectionVariables.set(\"НомерЗаказаУЛ\", jsonData.НомерЗаказаУЛ);\r",
									"\r",
									"pm.test(\"Аукцион создан прод карго id 2(статус 201)\", function () {\r",
									"    pm.response.to.have.status(201);});\r",
									"\r",
									"pm.test(\"GUID нового заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.match(/^\\w{8}-\\w{4}-\\w{4}-\\w{4}-\\w{12}$/);});\r",
									"\r",
									"pm.test(\"Аукцион Опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(true);});\r",
									"\r",
									"pm.test(\"Прямой заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Ошибок в теле запроса нет\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.match(/^\\d{11}$/);\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Аукцион\",\r\n    \"ТипАукциона\": \"НаПонижение\",\r\n    \"Направление\": \"Вперед\",\r\n    \"МеждународнаяПеревозка\": true,\r\n    \"ВремяНаПередачуЗаявки\": 50,\r\n    \"ВремяНаСогласованиеЗаявки\": 35,\r\n    \"КонтактноеЛицо1\": \"Собянин Антон\",\r\n    \"КонтактноеЛицо2\": \"Лекомцева Дарья\",\r\n    \"РазрешитьВстречныеСтавки\": true,\r\n    \"СкрыватьИсториюСтавок\": true,\r\n    \"СкрыватьМестаУчастников\": true,\r\n    \"СкрыватьАдресаИКонтактыТочек\": false,\r\n    \"ПоказыватьКонтактыТранспортнымКомпаниям\": false,\r\n    \"ВнешнийНомер\": \"{{$randomPassword}}\",\r\n    //\"ВнешнийИдентификатор\": \"\",\r\n    \"ВнешняяДата\": \"{{Внешняя_Дата1}}\",\r\n    \"ФормаОплаты\": 1,\r\n    \"УсловиеОплаты\": 2,\r\n    \"Цена\": 10000,\r\n    \"ЦенаБезНДС\": 8333.33,\r\n    \"ТипШагаАукциона\": 0,\r\n    \"ШагАукциона\": 1000,\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"ПриватностьАукциона\": 3,\r\n    \"ПубликоватьАукционАвтоматически\": true,\r\n    \"СтартАукциона\": \"{{Старт_Аукциона}}\",\r\n    \"СтопАукциона\": \"{{Стоп_Аукциона}}\",\r\n    \"ТипКузова\": \"Изотермический\",\r\n    //\"ТипКузова\": [\"Рефрижератор\", \"Тентованный\"],\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ТемпературныйРежим\": true,\r\n    \"ТемпературныйРежимОт\": -10,\r\n    \"ТемпературныйРежимДо\": 5,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"Выгружено из ERP\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": true,\r\n    \"КоличествоДнейОтсрочки\": 15,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"123\",\r\n    \"ДополнительнаяИнформация2\": \"321\",\r\n    \"ДополнительнаяИнформация3\": \"12345\",\r\n    \"СтоимостьГруза\": 50,\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата3}}\",\r\n            \"ДатаОкончания\": \"{{Дата3}}\",\r\n            \"КонтрагентИНН\": \"5012093506\",\r\n            \"КонтрагентКПП\": \"509950001\",\r\n            \"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n            \"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n            \"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n            \"Груз\": \"Минераловатный утеплитель\",\r\n            \"Вес\": 5.751,\r\n            \"Объем\": 90.001\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата4}}\",\r\n            \"ДатаОкончания\": \"{{Дата4}}\",\r\n            \"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n            \"КонтрагентИНН\": \"7727658324\",\r\n            \"КонтрагентКПП\": \"772701001\",\r\n            \"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n            \"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n            \"Груз\": \"Минераловатный утеплитель\",\r\n            \"Вес\": 5.751,\r\n            \"Объем\": 90.001\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/new",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"new"
							]
						}
					},
					"response": []
				},
				{
					"name": "Аукцион изменение",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.test(\"Аукцион изменен прод(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);});\r",
									"\r",
									"pm.test(\"Обновлен заказ с верным GUID\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									"pm.test(\"Аукцион Опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(true);});\r",
									"\r",
									"pm.test(\"Прямой заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Ошибок в теле запроса нет\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.equal(pm.collectionVariables.get(\"НомерЗаказаУЛ\"));});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Аукцион\",\r\n    \"ТипАукциона\": \"Голландский\",\r\n    \"Направление\": \"Назад\",\r\n    \"МеждународнаяПеревозка\": false,\r\n    \"ВремяНаПередачуЗаявки\": 100,\r\n    \"ВремяНаСогласованиеЗаявки\": 50,\r\n    \"КонтактноеЛицо2\": \"Собянин Антон\",\r\n    \"КонтактноеЛицо1\": \"Лекомцева Дарья\",\r\n    \"РазрешитьВстречныеСтавки\": false,\r\n    \"СкрыватьИсториюСтавок\": false,\r\n    \"СкрыватьМестаУчастников\": false,\r\n    \"СкрыватьАдресаИКонтактыТочек\": false,\r\n    \"ПоказыватьКонтактыТранспортнымКомпаниям\": true,\r\n    \"ВнешнийНомер\": \"{{$randomPassword}}\",\r\n    //\"ВнешнийИдентификатор\": \"\",\r\n    \"ВнешняяДата\": \"{{Внешняя_Дата2}}\",\r\n    \"ФормаОплаты\": 3,\r\n    \"УсловиеОплаты\": 1,\r\n    \"Цена\": 25000,\r\n    //\"ШагАукциона\": 10001,\r\n    \"СуммаПредоплаты\": 5000,\r\n    \"КодВалюты\": 643,\r\n    \"ПриватностьАукциона\": 4,\r\n    \"ПубликоватьАукционАвтоматически\": true,\r\n    \"СтартАукциона\": \"{{Старт_Аукциона2}}\",\r\n    \"СтопАукциона\": \"{{Стоп_Аукциона2}}\",\r\n    //\"ТипКузова\": \"Изотермический\",\r\n    \"ТипКузова\": [\"Бортовая\", \"Тентованный\"],\r\n    \"ПогрузкаЗадняя\": false,\r\n    \"ПогрузкаВерхняя\": true,\r\n    \"ПогрузкаБоковая\": true,\r\n    \"ПогрузкаПолнаяРастентовка\": true,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": -8,\r\n    \"ТемпературныйРежимДо\": 3,\r\n    \"TIR\": true,\r\n    \"CMR\": true,\r\n    \"Медкнижка\": true,\r\n    \"Т1\": true,\r\n    \"Пневмоход\": true,\r\n    \"Сцепка\": true,\r\n    \"ADR\": 5,\r\n    \"Ремни\": 4,\r\n    \"Коники\": 3,\r\n    \"Комментарий\": \"В Африке реки вот такой ширины\",\r\n    \"КоличествоМашин\": 3,\r\n    \"ИспользоватьОтсрочкуПлатежа\": true,\r\n    \"КоличествоДнейОтсрочки\": 10,\r\n    \"ВидДнейОтсрочки\": \"Рабочие\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"1фапф23\",\r\n    \"ДополнительнаяИнформация2\": \"3фыпра21\",\r\n    \"ДополнительнаяИнформация3\": \"121фыа23345\",\r\n    \"СтоимостьГруза\": 41654,\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата5}}\",\r\n            \"ДатаОкончания\": \"{{Дата5}}\",\r\n            \"КонтрагентИНН\": \"4401058132\",\r\n            \"КонтрагентКПП\": \"440101001\",\r\n            \"КонтрагентНаименование\": \"ООО АКВА СТАР\",\r\n            \"Адрес\": \"156019 г. Кострома, ул. Базовая д.4\",\r\n            \"Город\": \"Кострома\",\r\n            \"Груз\": \"Автозапчасти\",\r\n            \"Вес\": 10,\r\n            \"Объем\": 10\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата6}}\",\r\n            \"ДатаОкончания\": \"{{Дата6}}\",\r\n            \"КонтрагентИНН\": \"5318006691\",\r\n            \"КонтрагентКПП\": \"531801001\",\r\n            \"КонтрагентНаименование\": \"ООО ТЕПЛОСФЕРА\",\r\n            \"Адрес\": \"173003, Новгородская область, г Великий Новгород, ул Великая, д. 22 а\",\r\n            \"Город\": \"Великий Новгород\",\r\n            \"Груз\": \"Автозапчасти\",\r\n            \"Вес\": 10,\r\n            \"Объем\": 10\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/update/{{order_id}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"update",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Аукцион отмена",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Аукционный заказ отменен прод(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);});\r",
									"\r",
									"pm.test(\"Количество элементов в теле ответа равно 1\", function () {\r",
									"    pm.expect(Object.keys(jsonData).length).to.eql(1);});\r",
									"\r",
									"pm.test(\"GUID отмененного заказа соответствует отправленному в запросе\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/cancel/{{order_id}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"cancel",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Аукцион повторная отмена",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Аукционный заказ уже отменен(статус 400)\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"GUID отмененного заказа соответствует отправленному в запросе\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									"pm.test(\"Сообщение о том, что заказ уже отменен, корректное\", function () {\r",
									"    pm.expect(jsonData.Ошибка).to.eql(\"Заказ уже отменен на стороне УЛ\");});\r",
									"\r",
									"pm.test(\"Количество элементов в теле ответа равно 2\", function () {\r",
									"    pm.expect(Object.keys(jsonData).length).to.eql(2);});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/cancel/{{order_id}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"cancel",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Аукцион изменение после отмены",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.test(\"Аукцион не изменен прод(статус 404)\", function () {\r",
									"    pm.response.to.have.status(404);});\r",
									"\r",
									"pm.test(\"Заказ по идентификатору не обновлен\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.be.a('string').that.empty;});\r",
									"\r",
									"pm.test(\"Аукцион не опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(false);});\r",
									"\r",
									"pm.test(\"Прямой заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Текст ошибки о неверном статусе заказа корректен\", function () {\r",
									"    pm.expect(jsonData.Ошибки[0]).to.eql('Некорректный статус заказа для изменения');});\r",
									"\r",
									"pm.test(\"Номер заказа не получен, ввиду недопустимого статуса для обновления\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.be.a('string').that.empty;});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Аукцион\",\r\n    \"ТипАукциона\": \"НаПонижение\",\r\n    \"ВремяНаПередачуЗаявки\": 60,\r\n    \"РазрешитьВстречныеСтавки\": true,\r\n    \"ПубликоватьАукционАвтоматически\": true,\r\n    \"Цена\": 1000,\r\n    \"ЦенаБезНДС\": \"\",\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"ТипКузова\": \"Тентованный\",\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ПриватностьАукциона\": 3,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": 0,\r\n    \"ТемпературныйРежимДо\": 0,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"тест\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": false,\r\n    \"КоличествоДнейОтсрочки\": 0,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \r\n   \"Перевозчики\":\r\n    [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"444\",\r\n    \"ДополнительнаяИнформация2\": \"555\",\r\n    \"МестаПогрузкиРазгрузки\": [\r\n\t\t{\r\n\t\t\t\"ВидОперации\": \"Погрузка\",\r\n\t\t\t\"ДатаНачала\": \"{{Дата3}}\",\r\n\t\t\t\"ДатаОкончания\": \"{{Дата4}}\",\r\n\t\t\t\"КонтрагентИНН\": \"5012093506\",\r\n\t\t\t\"КонтрагентКПП\": \"509950001\",\r\n\t\t\t\"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n\t\t\t\"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n\t\t\t\"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n\t\t\t\"Груз\": \"Лимоны\",\r\n\t\t\t\"Вес\": 5,\r\n\t\t\t\"Объем\": 90\r\n\t\t},\r\n        {\r\n\t\t\t\"ВидОперации\": \"Разгрузка\",\r\n\t\t\t\"ДатаНачала\": \"{{Дата5}}\",\r\n\t\t\t\"ДатаОкончания\": \"{{Дата6}}\",\r\n\t\t\t\"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n\t\t\t\"КонтрагентИНН\": \"7727658324\",\r\n\t\t\t\"КонтрагентКПП\": \"772701001\",\r\n\t\t\t\"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n\t\t\t\"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n\t\t\t\"Груз\": \"Лимоны\",\r\n\t\t\t\"Вес\": 5,\r\n\t\t\t\"Объем\": 90\r\n\t\t}\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/update/{{order_id}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"update",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Аукцион создание погрузка позже разгрузки(для Черкзово)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.collectionVariables.set(\"order_id\", jsonData.ИдентификаторЗаказа);\r",
									"pm.collectionVariables.set(\"НомерЗаказаУЛ\", jsonData.НомерЗаказаУЛ);\r",
									"\r",
									"pm.test(\"Аукцион создан прод карго id 2(статус 201)\", function () {\r",
									"    pm.response.to.have.status(201);});\r",
									"\r",
									"pm.test(\"GUID нового заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.match(/^\\w{8}-\\w{4}-\\w{4}-\\w{4}-\\w{12}$/);});\r",
									"\r",
									"pm.test(\"Аукцион Опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(true);});\r",
									"\r",
									"pm.test(\"Прямой заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Ошибок в теле запроса нет\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.match(/^\\d{11}$/);\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Аукцион\",\r\n    \"ТипАукциона\": \"НаПонижение\",\r\n    \"СкрыватьАдресаИКонтактыТочек\": true,\r\n    \"ВремяНаПередачуЗаявки\": 60,\r\n    \"РазрешитьВстречныеСтавки\": true,\r\n    \"ПубликоватьАукционАвтоматически\": true,\r\n    \"СтартАукциона\": \"{{Старт_Аукциона}}\",\r\n    \"СтопАукциона\": \"{{Стоп_Аукциона}}\",\r\n    \"Цена\": 1000,\r\n    \"ЦенаБезНДС\": \"\",\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"ТипКузова\": \"Тентованный\",\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ПриватностьАукциона\": 3,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": 0,\r\n    \"ТемпературныйРежимДо\": 0,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"Выгружено из ERP\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": false,\r\n    \"КоличествоДнейОтсрочки\": 0,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"123\",\r\n    \"ДополнительнаяИнформация2\": \"321\",\r\n    \"СтоимостьГруза\": 50,\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата3}}\",\r\n            \"ДатаОкончания\": \"{{Дата6}}\",\r\n            \"КонтрагентИНН\": \"5012093506\",\r\n            \"КонтрагентКПП\": \"509950001\",\r\n            \"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n            \"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n            \"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n            \"Груз\": \"Минераловатный утеплитель\",\r\n            \"Вес\": 5.751,\r\n            \"Объем\": 90.001\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата4}}\",\r\n            \"ДатаОкончания\": \"{{Дата5}}\",\r\n            \"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n            \"КонтрагентИНН\": \"7727658324\",\r\n            \"КонтрагентКПП\": \"772701001\",\r\n            \"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n            \"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n            \"Груз\": \"Минераловатный утеплитель\",\r\n            \"Вес\": 5.751,\r\n            \"Объем\": 90.001\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/new",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"new"
							]
						}
					},
					"response": []
				},
				{
					"name": "Аукцион изменение без типа заказа",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.test(\"Аукцион изменен прод(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);});\r",
									"\r",
									"pm.test(\"Обновлен заказ с верным GUID\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									"pm.test(\"Аукцион Опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(true);});\r",
									"\r",
									"pm.test(\"Прямой заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Ошибок в теле запроса нет\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.equal(pm.collectionVariables.get(\"НомерЗаказаУЛ\"));});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипАукциона\": \"НаПонижение\",\r\n    \"ВремяНаПередачуЗаявки\": 60,\r\n    \"РазрешитьВстречныеСтавки\": true,\r\n    \"ПубликоватьАукционАвтоматически\": true,\r\n    \"Цена\": 1000,\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"ТипКузова\": \"Тентованный\",\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ПриватностьАукциона\": 3,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": 0,\r\n    \"ТемпературныйРежимДо\": 0,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"тест\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": false,\r\n    \"КоличествоДнейОтсрочки\": 0,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"444\",\r\n    \"ДополнительнаяИнформация2\": \"555\",\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата3}}\",\r\n            \"ДатаОкончания\": \"{{Дата6}}\",\r\n            \"КонтрагентИНН\": \"5012093506\",\r\n            \"КонтрагентКПП\": \"509950001\",\r\n            \"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n            \"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n            \"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 15,\r\n            \"Объем\": 190\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата4}}\",\r\n            \"ДатаОкончания\": \"{{Дата5}}\",\r\n            \"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n            \"КонтрагентИНН\": \"7727658324\",\r\n            \"КонтрагентКПП\": \"772701001\",\r\n            \"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n            \"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 15,\r\n            \"Объем\": 190\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/update/{{order_id}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"update",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Аукцион удаление",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Аукционный заказ удален прод(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);});\r",
									"\r",
									"pm.test(\"Количество элементов в теле ответа равно 3\", function () {\r",
									"    pm.expect(Object.keys(jsonData).length).to.eql(3);});\r",
									"\r",
									"pm.test(\"GUID отмененного заказа соответствует отправленному в запросе\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									"pm.test(\"Номер отмененного заказа соответствует отправленному в запросе\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.eql(pm.collectionVariables.get(\"НомерЗаказаУЛ\"));});\r",
									"\r",
									"pm.test(\"Установлена пометка на удаление\", function () {\r",
									"    pm.expect(jsonData.УстановленаПометкаНаУдаление).to.eql(true);});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/delete/{{order_id}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"delete",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Аукцион повторное удаление",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Аукционный заказ уже удален(статус 404)\", function () {\r",
									"    pm.response.to.have.status(404);\r",
									"});\r",
									"\r",
									"pm.test(\"GUID отмененного заказа соответствует отправленному в запросе\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									"pm.test(\"Отсутствует номер заказа, уже помеченного на удаление\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.eql(\"\");});\r",
									"\r",
									"pm.test(\"Количество элементов в теле ответа равно 3\", function () {\r",
									"    pm.expect(Object.keys(jsonData).length).to.eql(3);});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/delete/{{order_id}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"delete",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Аукцион изменение после удаления",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.test(\"Аукцион не изменен прод(статус 404)\", function () {\r",
									"    pm.response.to.have.status(404);});\r",
									"\r",
									"pm.test(\"Заказ по идентификатору не обновлен\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.be.a('string').that.empty;});\r",
									"\r",
									"pm.test(\"Аукцион не опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(false);});\r",
									"\r",
									"pm.test(\"Прямой заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Текст ошибки отсутствует, ввиду пометки на удаление\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('Array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа не получен, ввиду недопустимого статуса для обновления\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.be.a('string').that.empty;});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Аукцион\",\r\n    \"ТипАукциона\": \"НаПонижение\",\r\n    \"ВремяНаПередачуЗаявки\": 60,\r\n    \"РазрешитьВстречныеСтавки\": true,\r\n    \"ПубликоватьАукционАвтоматически\": true,\r\n    \"Цена\": 1000,\r\n    \"ЦенаБезНДС\": \"\",\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"ТипКузова\": \"Тентованный\",\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ПриватностьАукциона\": 3,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": 0,\r\n    \"ТемпературныйРежимДо\": 0,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"тест\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": false,\r\n    \"КоличествоДнейОтсрочки\": 0,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"444\",\r\n    \"ДополнительнаяИнформация2\": \"555\",\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата3}}\",\r\n            \"ДатаОкончания\": \"{{Дата4}}\",\r\n            \"КонтрагентИНН\": \"5012093506\",\r\n            \"КонтрагентКПП\": \"509950001\",\r\n            \"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n            \"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n            \"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 5,\r\n            \"Объем\": 90\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата5}}\",\r\n            \"ДатаОкончания\": \"{{Дата6}}\",\r\n            \"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n            \"КонтрагентИНН\": \"7727658324\",\r\n            \"КонтрагентКПП\": \"772701001\",\r\n            \"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n            \"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 5,\r\n            \"Объем\": 90\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/update/{{order_id}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"update",
								"{{order_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Аукцион по ID",
			"item": [
				{
					"name": "Аукцион создание с ИД",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var optionsTime = {hours: 'numeric', minutes: 'numeric',};\r",
									"\r",
									"const timeZone = 'Asia/Yekaterinburg';\r",
									"let date = new Date(new Date().toLocaleString(\"en-US\", { timeZone: timeZone }));\r",
									"function formatDate(date) {\r",
									"    const year = date.getFullYear();\r",
									"    const month = String(date.getMonth() + 1).padStart(2, '0');\r",
									"    const day = String(date.getDate()).padStart(2, '0');\r",
									"    const currentDate = `${year}${month}${day}`;\r",
									"    return currentDate.toString().split('T')[0] + 'T' + new Date().toLocaleTimeString(\"ru\", optionsTime);}\r",
									"\r",
									"const dates = [];\r",
									"\r",
									"for (let i = 0; i < 8; i++) {\r",
									"    dates.push(formatDate(date));\r",
									"    date.setDate(date.getDate() + 1);}\r",
									"\r",
									"let currentDate = new Date();\r",
									"let ekaterinburgOffset = 5 * 60;\r",
									"let localOffset = currentDate.getTimezoneOffset();\r",
									"let offsetDifference = ekaterinburgOffset + localOffset;\r",
									"currentDate.setMinutes(currentDate.getMinutes() + offsetDifference);\r",
									"currentDate.setHours(currentDate.getHours() + 1);\r",
									"let formattedTime = currentDate.toTimeString().split(' ')[0];\r",
									"const formattedDate = currentDate.toISOString().split('T')[0] + 'T' + formattedTime;\r",
									"currentDate.setHours(currentDate.getHours() + 1);\r",
									"let formattedTime2 = currentDate.toTimeString().split(' ')[0];\r",
									"const formattedDate2 = currentDate.toISOString().split('T')[0] + 'T' + formattedTime2;\r",
									"\r",
									"pm.collectionVariables.set(\"Старт_Аукциона\", dates[0]);\r",
									"pm.collectionVariables.set(\"Стоп_Аукциона\", formattedDate);\r",
									"pm.collectionVariables.set(\"Старт_Аукциона2\", formattedDate);\r",
									"pm.collectionVariables.set(\"Стоп_Аукциона2\", formattedDate2);\r",
									"pm.collectionVariables.set(\"Дата2\", dates[1]);\r",
									"pm.collectionVariables.set(\"Дата3\", dates[2]);\r",
									"pm.collectionVariables.set(\"Дата4\", dates[3]);\r",
									"pm.collectionVariables.set(\"Дата5\", dates[4]);\r",
									"pm.collectionVariables.set(\"Дата6\", dates[5]);\r",
									"pm.collectionVariables.set(\"Внешняя_Дата1\", dates[6]);\r",
									"pm.collectionVariables.set(\"Внешняя_Дата2\", dates[7]);\r",
									"\r",
									"function generateRandomString(length) {\r",
									"    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r",
									"    let result = '';\r",
									"    const charactersLength = characters.length;\r",
									"    for (let i = 0; i < length; i++) {result += characters.charAt(Math.floor(Math.random() * charactersLength));}\r",
									"    return result;}\r",
									"\r",
									"const randomString = generateRandomString(15);\r",
									"pm.collectionVariables.set(\"ID\", randomString);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.collectionVariables.set(\"order_id\", jsonData.ИдентификаторЗаказа);\r",
									"pm.collectionVariables.set(\"НомерЗаказаУЛ\", jsonData.НомерЗаказаУЛ);\r",
									"\r",
									"pm.test(\"Аукцион создан прод карго id 2(статус 201)\", function () {\r",
									"    pm.response.to.have.status(201);});\r",
									"\r",
									"pm.test(\"GUID нового заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.match(/^\\w{8}-\\w{4}-\\w{4}-\\w{4}-\\w{12}$/);});\r",
									"\r",
									"pm.test(\"Аукцион Опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(true);});\r",
									"\r",
									"pm.test(\"Прямой заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Ошибок в теле запроса нет\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.match(/^\\d{11}$/);\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Аукцион\",\r\n    \"ТипАукциона\": \"НаПонижение\",\r\n    \"Направление\": \"Вперед\",\r\n    \"МеждународнаяПеревозка\": true,\r\n    \"ВремяНаПередачуЗаявки\": 50,\r\n    \"ВремяНаСогласованиеЗаявки\": 35,\r\n    \"КонтактноеЛицо1\": \"Собянин Антон\",\r\n    \"КонтактноеЛицо2\": \"Лекомцева Дарья\",\r\n    \"РазрешитьВстречныеСтавки\": true,\r\n    \"СкрыватьИсториюСтавок\": true,\r\n    \"СкрыватьМестаУчастников\": true,\r\n    \"СкрыватьАдресаИКонтактыТочек\": false,\r\n    \"ПоказыватьКонтактыТранспортнымКомпаниям\": false,\r\n    \"ВнешнийНомер\": \"{{$randomPassword}}\",\r\n    \"ВнешнийИдентификатор\": \"{{ID}}\",\r\n    \"ВнешняяДата\": \"{{Внешняя_Дата1}}\",\r\n    \"ФормаОплаты\": 1,\r\n    \"УсловиеОплаты\": 2,\r\n    \"Цена\": 10000,\r\n    //\"ШагАукциона\": 10001,\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"ПриватностьАукциона\": 3,\r\n    \"ПубликоватьАукционАвтоматически\": true,\r\n    \"СтартАукциона\": \"{{Старт_Аукциона}}\",\r\n    \"СтопАукциона\": \"{{Стоп_Аукциона}}\",\r\n    \"ТипКузова\": \"Изотермический\",\r\n    //\"ТипКузова\": [\"Бортовая\", \"Тентованный\"],\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ТемпературныйРежим\": true,\r\n    \"ТемпературныйРежимОт\": -10,\r\n    \"ТемпературныйРежимДо\": 5,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"Выгружено из ERP\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": true,\r\n    \"КоличествоДнейОтсрочки\": 15,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"123\",\r\n    \"ДополнительнаяИнформация2\": \"321\",\r\n    \"ДополнительнаяИнформация3\": \"12345\",\r\n    \"СтоимостьГруза\": 50,\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата3}}\",\r\n            \"ДатаОкончания\": \"{{Дата3}}\",\r\n            \"КонтрагентИНН\": \"5012093506\",\r\n            \"КонтрагентКПП\": \"509950001\",\r\n            \"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n            \"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n            \"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n            \"Груз\": \"Минераловатный утеплитель\",\r\n            \"Вес\": 5.751,\r\n            \"Объем\": 90.001\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата4}}\",\r\n            \"ДатаОкончания\": \"{{Дата4}}\",\r\n            \"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n            \"КонтрагентИНН\": \"7727658324\",\r\n            \"КонтрагентКПП\": \"772701001\",\r\n            \"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n            \"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n            \"Груз\": \"Минераловатный утеплитель\",\r\n            \"Вес\": 5.751,\r\n            \"Объем\": 90.001\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/new",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"new"
							],
							"query": [
								{
									"key": "",
									"value": "",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Аукцион изменение по ИД",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.test(\"Аукцион изменен прод(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);});\r",
									"\r",
									"pm.test(\"Обновлен заказ с верным GUID\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									"pm.test(\"Аукцион Опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(true);});\r",
									"\r",
									"pm.test(\"Прямой заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Ошибок в теле запроса нет\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.equal(pm.collectionVariables.get(\"НомерЗаказаУЛ\"));});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Аукцион\",\r\n    \"ТипАукциона\": \"Голландский\",\r\n    \"Направление\": \"Назад\",\r\n    \"МеждународнаяПеревозка\": false,\r\n    \"ВремяНаПередачуЗаявки\": 100,\r\n    \"ВремяНаСогласованиеЗаявки\": 50,\r\n    \"КонтактноеЛицо2\": \"Собянин Антон\",\r\n    \"КонтактноеЛицо1\": \"Лекомцева Дарья\",\r\n    \"РазрешитьВстречныеСтавки\": false,\r\n    \"СкрыватьИсториюСтавок\": false,\r\n    \"СкрыватьМестаУчастников\": false,\r\n    \"СкрыватьАдресаИКонтактыТочек\": false,\r\n    \"ПоказыватьКонтактыТранспортнымКомпаниям\": true,\r\n    \"ВнешнийНомер\": \"{{$randomPassword}}\",\r\n    \"ВнешнийИдентификатор\": \"{{ID}}\",\r\n    \"ВнешняяДата\": \"{{Внешняя_Дата2}}\",\r\n    \"ФормаОплаты\": 3,\r\n    \"УсловиеОплаты\": 1,\r\n    \"Цена\": 25000,\r\n    //\"ШагАукциона\": 10001,\r\n    \"СуммаПредоплаты\": 5000,\r\n    \"КодВалюты\": 643,\r\n    \"ПриватностьАукциона\": 4,\r\n    \"ПубликоватьАукционАвтоматически\": true,\r\n    \"СтартАукциона\": \"{{Старт_Аукциона2}}\",\r\n    \"СтопАукциона\": \"{{Стоп_Аукциона2}}\",\r\n    //\"ТипКузова\": \"Изотермический\",\r\n    \"ТипКузова\": [\"Бортовая\", \"Тентованный\"],\r\n    \"ПогрузкаЗадняя\": false,\r\n    \"ПогрузкаВерхняя\": true,\r\n    \"ПогрузкаБоковая\": true,\r\n    \"ПогрузкаПолнаяРастентовка\": true,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": -8,\r\n    \"ТемпературныйРежимДо\": 3,\r\n    \"TIR\": true,\r\n    \"CMR\": true,\r\n    \"Медкнижка\": true,\r\n    \"Т1\": true,\r\n    \"Пневмоход\": true,\r\n    \"Сцепка\": true,\r\n    \"ADR\": 5,\r\n    \"Ремни\": 4,\r\n    \"Коники\": 3,\r\n    \"Комментарий\": \"В Африке реки вот такой ширины\",\r\n    \"КоличествоМашин\": 3,\r\n    \"ИспользоватьОтсрочкуПлатежа\": true,\r\n    \"КоличествоДнейОтсрочки\": 10,\r\n    \"ВидДнейОтсрочки\": \"Рабочие\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"1фапф23\",\r\n    \"ДополнительнаяИнформация2\": \"3фыпра21\",\r\n    \"ДополнительнаяИнформация3\": \"121фыа23345\",\r\n    \"СтоимостьГруза\": 41654,\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата5}}\",\r\n            \"ДатаОкончания\": \"{{Дата5}}\",\r\n            \"КонтрагентИНН\": \"4401058132\",\r\n            \"КонтрагентКПП\": \"440101001\",\r\n            \"КонтрагентНаименование\": \"ООО АКВА СТАР\",\r\n            \"Адрес\": \"156019 г. Кострома, ул. Базовая д.4\",\r\n            \"Город\": \"Кострома\",\r\n            \"Груз\": \"Автозапчасти\",\r\n            \"Вес\": 10,\r\n            \"Объем\": 10\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата6}}\",\r\n            \"ДатаОкончания\": \"{{Дата6}}\",\r\n            \"КонтрагентИНН\": \"5318006691\",\r\n            \"КонтрагентКПП\": \"531801001\",\r\n            \"КонтрагентНаименование\": \"ООО ТЕПЛОСФЕРА\",\r\n            \"Адрес\": \"173003, Новгородская область, г Великий Новгород, ул Великая, д. 22 а\",\r\n            \"Город\": \"Великий Новгород\",\r\n            \"Груз\": \"Автозапчасти\",\r\n            \"Вес\": 10,\r\n            \"Объем\": 10\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/update/{{ID}}?external=1",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"update",
								"{{ID}}"
							],
							"query": [
								{
									"key": "external",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Аукцион отмена по ИД",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Аукционный заказ отменен прод(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);});\r",
									"\r",
									"pm.test(\"Количество элементов в теле ответа равно 1\", function () {\r",
									"    pm.expect(Object.keys(jsonData).length).to.eql(1);});\r",
									"\r",
									"pm.test(\"ID отмененного заказа соответствует отправленному в запросе\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"ID\"));});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/cancel/{{ID}}?external=1",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"cancel",
								"{{ID}}"
							],
							"query": [
								{
									"key": "external",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Аукцион повторная отмена по ИД",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Аукционный заказ уже отменен(статус 400)\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"ID отмененного заказа соответствует отправленному в запросе\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"ID\"));});\r",
									"\r",
									"pm.test(\"Сообщение о том, что заказ уже отменен, корректное\", function () {\r",
									"    pm.expect(jsonData.Ошибка).to.eql(\"Заказ уже отменен на стороне УЛ\");});\r",
									"\r",
									"pm.test(\"Количество элементов в теле ответа равно 2\", function () {\r",
									"    pm.expect(Object.keys(jsonData).length).to.eql(2);});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/cancel/{{ID}}?external=1",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"cancel",
								"{{ID}}"
							],
							"query": [
								{
									"key": "external",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Аукцион изменение по ИД после отмены",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.test(\"Аукцион не изменен прод(статус 404)\", function () {\r",
									"    pm.response.to.have.status(404);});\r",
									"\r",
									"pm.test(\"Заказ по идентификатору не обновлен\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.be.a('string').that.empty;});\r",
									"\r",
									"pm.test(\"Аукцион не опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(false);});\r",
									"\r",
									"pm.test(\"Прямой заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Текст ошибки о неверном статусе заказа корректен\", function () {\r",
									"    pm.expect(jsonData.Ошибки[0]).to.eql('Некорректный статус заказа для изменения');});\r",
									"\r",
									"pm.test(\"Номер заказа не получен, ввиду недопустимого статуса для обновления\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.be.a('string').that.empty;});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Аукцион\",\r\n    \"ТипАукциона\": \"НаПонижение\",\r\n    \"ВремяНаПередачуЗаявки\": 60,\r\n    \"РазрешитьВстречныеСтавки\": true,\r\n    \"ПубликоватьАукционАвтоматически\": true,\r\n    \"Цена\": 1000,\r\n    \"ЦенаБезНДС\": \"\",\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"ТипКузова\": \"5pallet\",\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ПриватностьАукциона\": 3,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": 0,\r\n    \"ТемпературныйРежимДо\": 0,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"тест\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": false,\r\n    \"КоличествоДнейОтсрочки\": 0,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"444\",\r\n    \"ДополнительнаяИнформация2\": \"555\",\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата3}}\",\r\n            \"ДатаОкончания\": \"{{Дата4}}\",\r\n            \"КонтрагентИНН\": \"5012093506\",\r\n            \"КонтрагентКПП\": \"509950001\",\r\n            \"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n            \"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n            \"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 15,\r\n            \"Объем\": 190\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата5}}\",\r\n            \"ДатаОкончания\": \"{{Дата6}}\",\r\n            \"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n            \"КонтрагентИНН\": \"7727658324\",\r\n            \"КонтрагентКПП\": \"772701001\",\r\n            \"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n            \"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 15,\r\n            \"Объем\": 190\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/update/{{ID}}?external=1",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"update",
								"{{ID}}"
							],
							"query": [
								{
									"key": "external",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Аукцион создание с ИД погрузка позже разгрузки",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"function generateRandomString(length) {\r",
									"    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r",
									"    let result = '';\r",
									"    const charactersLength = characters.length;\r",
									"    for (let i = 0; i < length; i++) {result += characters.charAt(Math.floor(Math.random() * charactersLength));}\r",
									"    return result;}\r",
									"\r",
									"const randomString = generateRandomString(15);\r",
									"pm.collectionVariables.set(\"ID\", randomString);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.collectionVariables.set(\"order_id\", jsonData.ИдентификаторЗаказа);\r",
									"pm.collectionVariables.set(\"НомерЗаказаУЛ\", jsonData.НомерЗаказаУЛ);\r",
									"\r",
									"pm.test(\"Аукцион создан прод карго id 2(статус 201)\", function () {\r",
									"    pm.response.to.have.status(201);});\r",
									"\r",
									"pm.test(\"GUID нового заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.match(/^\\w{8}-\\w{4}-\\w{4}-\\w{4}-\\w{12}$/);});\r",
									"\r",
									"pm.test(\"Аукцион Опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(true);});\r",
									"\r",
									"pm.test(\"Прямой заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Ошибок в теле запроса нет\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.match(/^\\d{11}$/);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Аукцион\",\r\n    \"ВнешнийИдентификатор\": \"{{ID}}\",\r\n    \"ТипАукциона\": \"НаПонижение\",\r\n    \"СкрыватьАдресаИКонтактыТочек\": true,\r\n    \"ВремяНаПередачуЗаявки\": 60,\r\n    \"РазрешитьВстречныеСтавки\": true,\r\n    \"ПубликоватьАукционАвтоматически\": true,\r\n    \"СтартАукциона\": \"{{Старт_Аукциона}}\",\r\n    \"СтопАукциона\": \"{{Стоп_Аукциона}}\",\r\n    \"Цена\": 1000,\r\n    \"ЦенаБезНДС\": \"\",\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    //\"ТипКузова\": \"Изотермический\",\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ПриватностьАукциона\": 3,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": 0,\r\n    \"ТемпературныйРежимДо\": 0,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"Выгружено из ERP\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": false,\r\n    \"КоличествоДнейОтсрочки\": 0,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"123\",\r\n    \"ДополнительнаяИнформация2\": \"321\",\r\n    \"СтоимостьГруза\": 50,\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата3}}\",\r\n            \"ДатаОкончания\": \"{{Дата6}}\",\r\n            \"КонтрагентИНН\": \"5012093506\",\r\n            \"КонтрагентКПП\": \"509950001\",\r\n            \"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n            \"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n            \"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n            \"Груз\": \"gruz012\",\r\n            \"Вес\": 5.751,\r\n            \"Объем\": 90.001\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата4}}\",\r\n            \"ДатаОкончания\": \"{{Дата5}}\",\r\n            \"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n            \"КонтрагентИНН\": \"7727658324\",\r\n            \"КонтрагентКПП\": \"772701001\",\r\n            \"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n            \"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n            \"Груз\": \"gruz012\",\r\n            \"Вес\": 5.751,\r\n            \"Объем\": 90.001\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/new",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"new"
							],
							"query": [
								{
									"key": "",
									"value": "",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Аукцион изменение по ИД без типа заказа",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.test(\"Аукцион изменен прод(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);});\r",
									"\r",
									"pm.test(\"Обновлен заказ с верным GUID\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									"pm.test(\"Аукцион Опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(true);});\r",
									"\r",
									"pm.test(\"Прямой заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Ошибок в теле запроса нет\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.equal(pm.collectionVariables.get(\"НомерЗаказаУЛ\"));});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипАукциона\": \"НаПонижение\",\r\n    \"ВремяНаПередачуЗаявки\": 60,\r\n    \"РазрешитьВстречныеСтавки\": true,\r\n    \"ПубликоватьАукционАвтоматически\": true,\r\n    \"Цена\": 1000,\r\n    \"ЦенаБезНДС\": \"\",\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"ТипКузова\": \"Тентованный\",\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ПриватностьАукциона\": 3,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": 0,\r\n    \"ТемпературныйРежимДо\": 0,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"тест\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": false,\r\n    \"КоличествоДнейОтсрочки\": 0,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"444\",\r\n    \"ДополнительнаяИнформация2\": \"555\",\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата3}}\",\r\n            \"ДатаОкончания\": \"{{Дата4}}\",\r\n            \"КонтрагентИНН\": \"5012093506\",\r\n            \"КонтрагентКПП\": \"509950001\",\r\n            \"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n            \"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n            \"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 15,\r\n            \"Объем\": 190\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата5}}\",\r\n            \"ДатаОкончания\": \"{{Дата6}}\",\r\n            \"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n            \"КонтрагентИНН\": \"7727658324\",\r\n            \"КонтрагентКПП\": \"772701001\",\r\n            \"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n            \"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 15,\r\n            \"Объем\": 190\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/update/{{ID}}?external=1",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"update",
								"{{ID}}"
							],
							"query": [
								{
									"key": "external",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Аукцион удаление по ИД",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Аукционный заказ помечен на удаление(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"GUID отмененного заказа соответствует отправленному в запросе\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									"pm.test(\"Пометка на удаление установлена\", function () {\r",
									"    pm.expect(jsonData.УстановленаПометкаНаУдаление).to.eql(true);});\r",
									"\r",
									"pm.test(\"Количество элементов в теле ответа равно 3\", function () {\r",
									"    pm.expect(Object.keys(jsonData).length).to.eql(3);});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/delete/{{ID}}?external=1",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"delete",
								"{{ID}}"
							],
							"query": [
								{
									"key": "external",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Аукцион повторное удаление по ИД",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Аукционный заказ помечен на удаление(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"GUID отмененного заказа соответствует отправленному в запросе\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									"pm.test(\"Пометка на удаление установлена\", function () {\r",
									"    pm.expect(jsonData.УстановленаПометкаНаУдаление).to.eql(true);});\r",
									"\r",
									"pm.test(\"Количество элементов в теле ответа равно 3\", function () {\r",
									"    pm.expect(Object.keys(jsonData).length).to.eql(3);});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/delete/{{ID}}?external=1",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"delete",
								"{{ID}}"
							],
							"query": [
								{
									"key": "external",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Аукцион изменение по ИД после удаления",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.test(\"Аукцион не изменен прод(статус 404)\", function () {\r",
									"    pm.response.to.have.status(404);});\r",
									"\r",
									"pm.test(\"Заказ по идентификатору не обновлен\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.be.a('string').that.empty;});\r",
									"\r",
									"pm.test(\"Аукцион не опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(false);});\r",
									"\r",
									"pm.test(\"Прямой заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Текст ошибки отсутствует, ввиду пометки на удаление\", function () {\r",
									"    pm.expect(jsonData.Ошибки[0]).to.eql('Некорректный статус заказа для изменения');});\r",
									"\r",
									"pm.test(\"Номер заказа не получен, ввиду недопустимого статуса для обновления\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.be.a('string').that.empty;});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Аукцион\",\r\n    \"ТипАукциона\": \"НаПонижение\",\r\n    \"ВремяНаПередачуЗаявки\": 60,\r\n    \"РазрешитьВстречныеСтавки\": true,\r\n    \"ПубликоватьАукционАвтоматически\": true,\r\n    \"Цена\": 1000,\r\n    \"ЦенаБезНДС\": \"\",\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"ТипКузова\": \"5pallet\",\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ПриватностьАукциона\": 3,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": 0,\r\n    \"ТемпературныйРежимДо\": 0,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"тест\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": false,\r\n    \"КоличествоДнейОтсрочки\": 0,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"444\",\r\n    \"ДополнительнаяИнформация2\": \"555\",\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата3}}\",\r\n            \"ДатаОкончания\": \"{{Дата4}}\",\r\n            \"КонтрагентИНН\": \"5012093506\",\r\n            \"КонтрагентКПП\": \"509950001\",\r\n            \"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n            \"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n            \"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 15,\r\n            \"Объем\": 190\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата5}}\",\r\n            \"ДатаОкончания\": \"{{Дата6}}\",\r\n            \"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n            \"КонтрагентИНН\": \"7727658324\",\r\n            \"КонтрагентКПП\": \"772701001\",\r\n            \"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n            \"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 15,\r\n            \"Объем\": 190\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/update/{{ID}}?external=1",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"update",
								"{{ID}}"
							],
							"query": [
								{
									"key": "external",
									"value": "1"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Прямой заказ",
			"item": [
				{
					"name": "ПЗ создание",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.collectionVariables.set(\"order_id\", jsonData.ИдентификаторЗаказа);\r",
									"pm.collectionVariables.set(\"НомерЗаказаУЛ\", jsonData.НомерЗаказаУЛ);\r",
									"\r",
									"pm.test(\"Прямой заказ создан прод карго id 2(статус 201)\", function () {\r",
									"    pm.response.to.have.status(201);});\r",
									"\r",
									"pm.test(\"GUID нового заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.match(/^\\w{8}-\\w{4}-\\w{4}-\\w{4}-\\w{12}$/);});\r",
									"\r",
									"pm.test(\"Аукцион не опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(false);});\r",
									"\r",
									"pm.test(\"Прямой заказ отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(true);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Ошибок в теле запроса нет\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.match(/^\\d{11}$/);\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var optionsTime = {hours: 'numeric', minutes: 'numeric',};\r",
									"\r",
									"const timeZone = 'Asia/Yekaterinburg';\r",
									"let date = new Date(new Date().toLocaleString(\"en-US\", { timeZone: timeZone }));\r",
									"function formatDate(date) {\r",
									"    const year = date.getFullYear();\r",
									"    const month = String(date.getMonth() + 1).padStart(2, '0');\r",
									"    const day = String(date.getDate()).padStart(2, '0');\r",
									"    const currentDate = `${year}${month}${day}`;\r",
									"    return currentDate.toString().split('T')[0] + 'T' + new Date().toLocaleTimeString(\"ru\", optionsTime);}\r",
									"\r",
									"const dates = [];\r",
									"\r",
									"for (let i = 0; i < 8; i++) {\r",
									"    dates.push(formatDate(date));\r",
									"    date.setDate(date.getDate() + 1);}\r",
									"\r",
									"let currentDate = new Date();\r",
									"let ekaterinburgOffset = 5 * 60;\r",
									"let localOffset = currentDate.getTimezoneOffset();\r",
									"let offsetDifference = ekaterinburgOffset + localOffset;\r",
									"currentDate.setMinutes(currentDate.getMinutes() + offsetDifference);\r",
									"currentDate.setHours(currentDate.getHours() + 1);\r",
									"let formattedTime = currentDate.toTimeString().split(' ')[0];\r",
									"const formattedDate = currentDate.toISOString().split('T')[0] + 'T' + formattedTime;\r",
									"currentDate.setHours(currentDate.getHours() + 1);\r",
									"let formattedTime2 = currentDate.toTimeString().split(' ')[0];\r",
									"const formattedDate2 = currentDate.toISOString().split('T')[0] + 'T' + formattedTime2;\r",
									"currentDate.setHours(currentDate.getHours() + 1);\r",
									"let formattedTime3 = currentDate.toTimeString().split(' ')[0];\r",
									"const formattedDate3 = currentDate.toISOString().split('T')[0] + 'T' + formattedTime3;\r",
									"\r",
									"pm.collectionVariables.set(\"Дата_Принятия_Заказа\", formattedDate);\r",
									"pm.collectionVariables.set(\"Дата_Ожидания_Заявки\", formattedDate2);\r",
									"pm.collectionVariables.set(\"Дата_Принятия_Заказа2\", formattedDate2);\r",
									"pm.collectionVariables.set(\"Дата_Ожидания_Заявки2\", formattedDate3);\r",
									"pm.collectionVariables.set(\"Дата2\", dates[1]);\r",
									"pm.collectionVariables.set(\"Дата3\", dates[2]);\r",
									"pm.collectionVariables.set(\"Дата4\", dates[3]);\r",
									"pm.collectionVariables.set(\"Дата5\", dates[4]);\r",
									"pm.collectionVariables.set(\"Дата6\", dates[5]);\r",
									"pm.collectionVariables.set(\"Дата7\", dates[6]);\r",
									"pm.collectionVariables.set(\"Внешняя_Дата1\", dates[6]);\r",
									"pm.collectionVariables.set(\"Внешняя_Дата2\", dates[7]);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Прямой\",\r\n    \"ДатаПринятияПрямогоЗаказа\": \"{{Дата_Принятия_Заказа}}\",\r\n    \"ДатаОжиданияЗаявки\": \"{{Дата_Ожидания_Заявки}}\",\r\n    \"Направление\": \"Вперед\",\r\n    \"МеждународнаяПеревозка\": true,\r\n    \"КонтактноеЛицо1\": \"Собянин Антон\",\r\n    \"КонтактноеЛицо2\": \"Лекомцева Дарья\",\r\n    \"ВнешнийНомер\": \"{{$randomPassword}}\",\r\n    //\"ВнешнийИдентификатор\": \"\",\r\n    \"ВнешняяДата\": \"{{Внешняя_Дата1}}\",\r\n    \"ФормаОплаты\": 1,\r\n    \"УсловиеОплаты\": 2,\r\n    \"Цена\": 10000,\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"ТипКузова\": \"Изотермический\",\r\n    //\"ТипКузова\": [\"Бортовая\", \"Тентованный\"],\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ТемпературныйРежим\": true,\r\n    \"ТемпературныйРежимОт\": -10,\r\n    \"ТемпературныйРежимДо\": 5,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"Выгружено из ERP\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": true,\r\n    \"КоличествоДнейОтсрочки\": 15,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"123\",\r\n    \"ДополнительнаяИнформация2\": \"321\",\r\n    \"ДополнительнаяИнформация3\": \"12345\",\r\n    \"СтоимостьГруза\": 50,\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата4}}\",\r\n            \"ДатаОкончания\": \"{{Дата5}}\",\r\n            \"КонтрагентИНН\": \"5012093506\",\r\n            \"КонтрагентКПП\": \"509950001\",\r\n            \"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n            \"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n            \"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n            \"Груз\": \"Минераловатный утеплитель\",\r\n            \"Вес\": 10,\r\n            \"Объем\": 20\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата6}}\",\r\n            \"ДатаОкончания\": \"{{Дата7}}\",\r\n            \"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n            \"КонтрагентИНН\": \"7727658324\",\r\n            \"КонтрагентКПП\": \"772701001\",\r\n            \"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n            \"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n            \"Груз\": \"Минераловатный утеплитель\",\r\n            \"Вес\": 10,\r\n            \"Объем\": 20\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/new",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"new"
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ изменение",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.test(\"Прямой заказ изменен прод(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);});\r",
									"\r",
									"pm.test(\"Обновлен заказ с верным GUID\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									"pm.test(\"Аукцион не опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(false);});\r",
									"\r",
									"pm.test(\"Прямой заказ отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(true);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Ошибок в теле запроса нет\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.equal(pm.collectionVariables.get(\"НомерЗаказаУЛ\"));});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Прямой\",\r\n    \"ДатаПринятияПрямогоЗаказа\": \"{{Дата_Принятия_Заказа2}}\",\r\n    \"ДатаОжиданияЗаявки\": \"{{Дата_Ожидания_Заявки2}}\",\r\n    \"Направление\": \"Назад\",\r\n    \"МеждународнаяПеревозка\": false,\r\n    \"ВремяНаПередачуЗаявки\": 100,\r\n    \"ВремяНаСогласованиеЗаявки\": 50,\r\n    \"КонтактноеЛицо2\": \"Собянин Антон\",\r\n    \"КонтактноеЛицо1\": \"Лекомцева Дарья\",\r\n    \"ВнешнийНомер\": \"{{$randomPassword}}\",\r\n    //\"ВнешнийИдентификатор\": \"\",\r\n    \"ВнешняяДата\": \"{{Внешняя_Дата2}}\",\r\n    \"ФормаОплаты\": 3,\r\n    \"УсловиеОплаты\": 1,\r\n    \"Цена\": 25000,\r\n    \"СуммаПредоплаты\": 5000,\r\n    \"КодВалюты\": 643,\r\n    //\"ТипКузова\": \"Изотермический\",\r\n    \"ТипКузова\": [\"Бортовая\", \"Тентованный\"],\r\n    \"ПогрузкаЗадняя\": false,\r\n    \"ПогрузкаВерхняя\": true,\r\n    \"ПогрузкаБоковая\": true,\r\n    \"ПогрузкаПолнаяРастентовка\": true,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": -8,\r\n    \"ТемпературныйРежимДо\": 3,\r\n    \"TIR\": true,\r\n    \"CMR\": true,\r\n    \"Медкнижка\": true,\r\n    \"Т1\": true,\r\n    \"Пневмоход\": true,\r\n    \"Сцепка\": true,\r\n    \"ADR\": 5,\r\n    \"Ремни\": 4,\r\n    \"Коники\": 3,\r\n    \"Комментарий\": \"В Африке реки вот такой ширины\",\r\n    \"КоличествоМашин\": 3,\r\n    \"ИспользоватьОтсрочкуПлатежа\": true,\r\n    \"КоличествоДнейОтсрочки\": 10,\r\n    \"ВидДнейОтсрочки\": \"Рабочие\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"1фапф23\",\r\n    \"ДополнительнаяИнформация2\": \"3фыпра21\",\r\n    \"ДополнительнаяИнформация3\": \"121фыа23345\",\r\n    \"СтоимостьГруза\": 41654,\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата5}}\",\r\n            \"ДатаОкончания\": \"{{Дата5}}\",\r\n            \"КонтрагентИНН\": \"4401058132\",\r\n            \"КонтрагентКПП\": \"440101001\",\r\n            \"КонтрагентНаименование\": \"ООО АКВА СТАР\",\r\n            \"Адрес\": \"156019 г. Кострома, ул. Базовая д.4\",\r\n            \"Город\": \"Кострома\",\r\n            \"Груз\": \"Автозапчасти\",\r\n            \"Вес\": 10,\r\n            \"Объем\": 10\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата6}}\",\r\n            \"ДатаОкончания\": \"{{Дата6}}\",\r\n            \"КонтрагентИНН\": \"5318006691\",\r\n            \"КонтрагентКПП\": \"531801001\",\r\n            \"КонтрагентНаименование\": \"ООО ТЕПЛОСФЕРА\",\r\n            \"Адрес\": \"173003, Новгородская область, г Великий Новгород, ул Великая, д. 22 а\",\r\n            \"Город\": \"Великий Новгород\",\r\n            \"Груз\": \"Автозапчасти\",\r\n            \"Вес\": 10,\r\n            \"Объем\": 10\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/update/{{order_id}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"update",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ отмена",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Прямой заказ отменен прод(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);});\r",
									"\r",
									"pm.test(\"Количество элементов в теле ответа равно 1\", function () {\r",
									"    pm.expect(Object.keys(jsonData).length).to.eql(1);});\r",
									"\r",
									"pm.test(\"GUID отмененного заказа соответствует отправленному в запросе\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/cancel/{{order_id}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"cancel",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ повторная отмена",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Прямой заказ уже отменен(статус 400)\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"GUID отмененного заказа соответствует отправленному в запросе\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									"pm.test(\"Сообщение о том, что заказ уже отменен, корректное\", function () {\r",
									"    pm.expect(jsonData.Ошибка).to.eql(\"Заказ уже отменен на стороне УЛ\");});\r",
									"\r",
									"pm.test(\"Количество элементов в теле ответа равно 2\", function () {\r",
									"    pm.expect(Object.keys(jsonData).length).to.eql(2);});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/cancel/{{order_id}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"cancel",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ изменение после отмены",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.test(\"Заказ не изменен прод(статус 404)\", function () {\r",
									"    pm.response.to.have.status(404);});\r",
									"\r",
									"pm.test(\"Заказ по идентификатору не обновлен\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.be.a('string').that.empty;});\r",
									"\r",
									"pm.test(\"Аукцион не опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(false);});\r",
									"\r",
									"pm.test(\"Прямой заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Текст ошибки о неверном статусе заказа корректен\", function () {\r",
									"    pm.expect(jsonData.Ошибки[0]).to.eql('Некорректный статус заказа для изменения');});\r",
									"\r",
									"pm.test(\"Номер заказа не получен, ввиду недопустимого статуса для обновления\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.be.a('string').that.empty;});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Прямой\",\r\n    \"ДатаПринятияПрямогоЗаказа\": \"{{Дата2}}\",\r\n    \"ДатаОжиданияЗаявки\": \"{{Дата3}}\",\r\n    \"Цена\": 1000,\r\n    \"ЦенаБезНДС\": \"\",\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"ТипКузова\": \"Тентованный\",\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ПриватностьАукциона\": 3,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": 0,\r\n    \"ТемпературныйРежимДо\": 0,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"тест\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": false,\r\n    \"КоличествоДнейОтсрочки\": 0,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"444\",\r\n    \"ДополнительнаяИнформация2\": \"555\",\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата4}}\",\r\n            \"ДатаОкончания\": \"{{Дата5}}\",\r\n            \"КонтрагентИНН\": \"5012093506\",\r\n            \"КонтрагентКПП\": \"509950001\",\r\n            \"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n            \"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n            \"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 5,\r\n            \"Объем\": 90\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата6}}\",\r\n            \"ДатаОкончания\": \"{{Дата7}}\",\r\n            \"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n            \"КонтрагентИНН\": \"7727658324\",\r\n            \"КонтрагентКПП\": \"772701001\",\r\n            \"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n            \"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 5,\r\n            \"Объем\": 90\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/update/{{order_id}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"update",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ создание погрузка позже разгрузки",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.collectionVariables.set(\"order_id\", jsonData.ИдентификаторЗаказа);\r",
									"pm.collectionVariables.set(\"НомерЗаказаУЛ\", jsonData.НомерЗаказаУЛ);\r",
									"\r",
									"pm.test(\"Прямой заказ создан прод карго id 2(статус 201)\", function () {\r",
									"    pm.response.to.have.status(201);});\r",
									"\r",
									"pm.test(\"GUID нового заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.match(/^\\w{8}-\\w{4}-\\w{4}-\\w{4}-\\w{12}$/);});\r",
									"\r",
									"pm.test(\"Аукцион не опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(false);});\r",
									"\r",
									"pm.test(\"Прямой заказ отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(true);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Ошибок в теле запроса нет\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.match(/^\\d{11}$/);\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Прямой\",\r\n    \"ДатаПринятияПрямогоЗаказа\": \"{{Дата2}}\",\r\n    \"ДатаОжиданияЗаявки\": \"{{Дата3}}\",\r\n    \"Цена\": 1000,\r\n    \"ЦенаБезНДС\": \"\",\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"ТипКузова\": \"Тентованный\",\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ПриватностьАукциона\": 3,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": 0,\r\n    \"ТемпературныйРежимДо\": 0,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"Выгружено из ERP\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": false,\r\n    \"КоличествоДнейОтсрочки\": 0,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"123\",\r\n    \"ДополнительнаяИнформация2\": \"321\",\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата4}}\",\r\n            \"ДатаОкончания\": \"{{Дата7}}\",\r\n            \"КонтрагентИНН\": \"5012093506\",\r\n            \"КонтрагентКПП\": \"509950001\",\r\n            \"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n            \"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n            \"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n            \"Груз\": \"Минераловатный утеплитель\",\r\n            \"Вес\": 5.751,\r\n            \"Объем\": 90.001\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата5}}\",\r\n            \"ДатаОкончания\": \"{{Дата6}}\",\r\n            \"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n            \"КонтрагентИНН\": \"7727658324\",\r\n            \"КонтрагентКПП\": \"772701001\",\r\n            \"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n            \"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n            \"Груз\": \"Минераловатный утеплитель\",\r\n            \"Вес\": 5.751,\r\n            \"Объем\": 90.001\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/new",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"new"
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ изменение без типа",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.test(\"Прямой заказ изменен прод(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);});\r",
									"\r",
									"pm.test(\"Обновлен заказ с верным GUID\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									"pm.test(\"Аукцион не опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(false);});\r",
									"\r",
									"pm.test(\"Прямой заказ отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(true);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Ошибок в теле запроса нет\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.equal(pm.collectionVariables.get(\"НомерЗаказаУЛ\"));});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ДатаПринятияПрямогоЗаказа\": \"{{Дата2}}\",\r\n    \"ДатаОжиданияЗаявки\": \"{{Дата3}}\",\r\n    \"Цена\": 1000,\r\n    \"ЦенаБезНДС\": \"\",\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"ТипКузова\": \"Тентованный\",\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ПриватностьАукциона\": 3,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": 0,\r\n    \"ТемпературныйРежимДо\": 0,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"тест\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": false,\r\n    \"КоличествоДнейОтсрочки\": 0,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"444\",\r\n    \"ДополнительнаяИнформация2\": \"555\",\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата4}}\",\r\n            \"ДатаОкончания\": \"{{Дата7}}\",\r\n            \"КонтрагентИНН\": \"5012093506\",\r\n            \"КонтрагентКПП\": \"509950001\",\r\n            \"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n            \"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n            \"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 5,\r\n            \"Объем\": 90\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата5}}\",\r\n            \"ДатаОкончания\": \"{{Дата6}}\",\r\n            \"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n            \"КонтрагентИНН\": \"7727658324\",\r\n            \"КонтрагентКПП\": \"772701001\",\r\n            \"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n            \"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 5,\r\n            \"Объем\": 90\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/update/{{order_id}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"update",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ удаление",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Прямой заказ удален прод(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);});\r",
									"\r",
									"pm.test(\"Количество элементов в теле ответа равно 3\", function () {\r",
									"    pm.expect(Object.keys(jsonData).length).to.eql(3);});\r",
									"\r",
									"pm.test(\"GUID отмененного заказа соответствует отправленному в запросе\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									"pm.test(\"Установлена пометка на удаление\", function () {\r",
									"    pm.expect(jsonData.УстановленаПометкаНаУдаление).to.eql(true);});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/delete/{{order_id}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"delete",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ повторное удаление",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Прямой заказ уже удален(статус 404)\", function () {\r",
									"    pm.response.to.have.status(404);\r",
									"});\r",
									"\r",
									"pm.test(\"GUID отмененного заказа соответствует отправленному в запросе\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									"pm.test(\"Пометка на удаление не установлена\", function () {\r",
									"    pm.expect(jsonData.УстановленаПометкаНаУдаление).to.eql(null);});\r",
									"\r",
									"pm.test(\"Количество элементов в теле ответа равно 3\", function () {\r",
									"    pm.expect(Object.keys(jsonData).length).to.eql(3);});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/delete/{{order_id}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"delete",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ изменение после удаления",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.test(\"Заказ не изменен прод(статус 404)\", function () {\r",
									"    pm.response.to.have.status(404);});\r",
									"\r",
									"pm.test(\"Заказ по идентификатору не обновлен\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.be.a('string').that.empty;});\r",
									"\r",
									"pm.test(\"Аукцион не опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(false);});\r",
									"\r",
									"pm.test(\"Прямой заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Текст ошибки отсутствует, ввиду пометки на удаление\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('Array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа не получен, ввиду недопустимого статуса для обновления\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.be.a('string').that.empty;});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Прямой\",\r\n    \"ДатаПринятияПрямогоЗаказа\": \"{{Дата2}}\",\r\n    \"ДатаОжиданияЗаявки\": \"{{Дата3}}\",\r\n    \"Цена\": 1000,\r\n    \"ЦенаБезНДС\": \"\",\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"ТипКузова\": \"Тентованный\",\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ПриватностьАукциона\": 3,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": 0,\r\n    \"ТемпературныйРежимДо\": 0,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"тест\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": false,\r\n    \"КоличествоДнейОтсрочки\": 0,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"444\",\r\n    \"ДополнительнаяИнформация2\": \"555\",\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата4}}\",\r\n            \"ДатаОкончания\": \"{{Дата5}}\",\r\n            \"КонтрагентИНН\": \"5012093506\",\r\n            \"КонтрагентКПП\": \"509950001\",\r\n            \"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n            \"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n            \"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 5,\r\n            \"Объем\": 90\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата6}}\",\r\n            \"ДатаОкончания\": \"{{Дата7}}\",\r\n            \"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n            \"КонтрагентИНН\": \"7727658324\",\r\n            \"КонтрагентКПП\": \"772701001\",\r\n            \"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n            \"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 5,\r\n            \"Объем\": 90\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/update/{{order_id}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"update",
								"{{order_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Прямой заказ по ID",
			"item": [
				{
					"name": "ПЗ создание с ИД",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.collectionVariables.set(\"order_id\", jsonData.ИдентификаторЗаказа);\r",
									"pm.collectionVariables.set(\"НомерЗаказаУЛ\", jsonData.НомерЗаказаУЛ);\r",
									"\r",
									"pm.test(\"Прямой заказ с ИД создан прод карго id 2(статус 201)\", function () {\r",
									"    pm.response.to.have.status(201);});\r",
									"\r",
									"pm.test(\"GUID нового заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.match(/^\\w{8}-\\w{4}-\\w{4}-\\w{4}-\\w{12}$/);});\r",
									"\r",
									"pm.test(\"Аукцион не опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(false);});\r",
									"\r",
									"pm.test(\"Прямой заказ отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(true);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Ошибок в теле запроса нет\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.match(/^\\d{11}$/);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var optionsTime = {hours: 'numeric', minutes: 'numeric',};\r",
									"\r",
									"const timeZone = 'Asia/Yekaterinburg';\r",
									"let date = new Date(new Date().toLocaleString(\"en-US\", { timeZone: timeZone }));\r",
									"function formatDate(date) {\r",
									"    const year = date.getFullYear();\r",
									"    const month = String(date.getMonth() + 1).padStart(2, '0');\r",
									"    const day = String(date.getDate()).padStart(2, '0');\r",
									"    const currentDate = `${year}${month}${day}`;\r",
									"    return currentDate.toString().split('T')[0] + 'T' + new Date().toLocaleTimeString(\"ru\", optionsTime);}\r",
									"\r",
									"const dates = [];\r",
									"\r",
									"for (let i = 0; i < 8; i++) {\r",
									"    dates.push(formatDate(date));\r",
									"    date.setDate(date.getDate() + 1);}\r",
									"\r",
									"let currentDate = new Date();\r",
									"let ekaterinburgOffset = 5 * 60;\r",
									"let localOffset = currentDate.getTimezoneOffset();\r",
									"let offsetDifference = ekaterinburgOffset + localOffset;\r",
									"currentDate.setMinutes(currentDate.getMinutes() + offsetDifference);\r",
									"currentDate.setHours(currentDate.getHours() + 1);\r",
									"let formattedTime = currentDate.toTimeString().split(' ')[0];\r",
									"const formattedDate = currentDate.toISOString().split('T')[0] + 'T' + formattedTime;\r",
									"currentDate.setHours(currentDate.getHours() + 1);\r",
									"let formattedTime2 = currentDate.toTimeString().split(' ')[0];\r",
									"const formattedDate2 = currentDate.toISOString().split('T')[0] + 'T' + formattedTime2;\r",
									"currentDate.setHours(currentDate.getHours() + 1);\r",
									"let formattedTime3 = currentDate.toTimeString().split(' ')[0];\r",
									"const formattedDate3 = currentDate.toISOString().split('T')[0] + 'T' + formattedTime3;\r",
									"\r",
									"pm.collectionVariables.set(\"Дата_Принятия_Заказа\", formattedDate);\r",
									"pm.collectionVariables.set(\"Дата_Ожидания_Заявки\", formattedDate2);\r",
									"pm.collectionVariables.set(\"Дата_Принятия_Заказа2\", formattedDate2);\r",
									"pm.collectionVariables.set(\"Дата_Ожидания_Заявки2\", formattedDate3);\r",
									"pm.collectionVariables.set(\"Дата2\", dates[1]);\r",
									"pm.collectionVariables.set(\"Дата3\", dates[2]);\r",
									"pm.collectionVariables.set(\"Дата4\", dates[3]);\r",
									"pm.collectionVariables.set(\"Дата5\", dates[4]);\r",
									"pm.collectionVariables.set(\"Дата6\", dates[5]);\r",
									"pm.collectionVariables.set(\"Дата7\", dates[6]);\r",
									"pm.collectionVariables.set(\"Внешняя_Дата1\", dates[6]);\r",
									"pm.collectionVariables.set(\"Внешняя_Дата2\", dates[7]);\r",
									"\r",
									"function generateRandomString(length) {\r",
									"    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r",
									"    let result = '';\r",
									"    const charactersLength = characters.length;\r",
									"    for (let i = 0; i < length; i++) {result += characters.charAt(Math.floor(Math.random() * charactersLength));}\r",
									"    return result;}\r",
									"\r",
									"const randomString = generateRandomString(15);\r",
									"pm.collectionVariables.set(\"ID\", randomString);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Прямой\",\r\n    \"ДатаПринятияПрямогоЗаказа\": \"{{Дата_Принятия_Заказа}}\",\r\n    \"ДатаОжиданияЗаявки\": \"{{Дата_Ожидания_Заявки}}\",\r\n    \"Направление\": \"Вперед\",\r\n    \"МеждународнаяПеревозка\": true,\r\n    \"КонтактноеЛицо1\": \"Собянин Антон\",\r\n    \"КонтактноеЛицо2\": \"Лекомцева Дарья\",\r\n    \"ВнешнийНомер\": \"{{$randomPassword}}\",\r\n    \"ВнешнийИдентификатор\": \"{{ID}}\",\r\n    \"ВнешняяДата\": \"{{Внешняя_Дата1}}\",\r\n    \"ФормаОплаты\": 1,\r\n    \"УсловиеОплаты\": 2,\r\n    \"Цена\": 10000,\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"ТипКузова\": \"Изотермический\",\r\n    //\"ТипКузова\": [\"Бортовая\", \"Тентованный\"],\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ТемпературныйРежим\": true,\r\n    \"ТемпературныйРежимОт\": -10,\r\n    \"ТемпературныйРежимДо\": 5,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"Выгружено из ERP\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": true,\r\n    \"КоличествоДнейОтсрочки\": 15,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"123\",\r\n    \"ДополнительнаяИнформация2\": \"321\",\r\n    \"ДополнительнаяИнформация3\": \"12345\",\r\n    \"СтоимостьГруза\": 50,\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата4}}\",\r\n            \"ДатаОкончания\": \"{{Дата5}}\",\r\n            \"КонтрагентИНН\": \"5012093506\",\r\n            \"КонтрагентКПП\": \"509950001\",\r\n            \"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n            \"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n            \"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n            \"Груз\": \"Минераловатный утеплитель\",\r\n            \"Вес\": 10,\r\n            \"Объем\": 20\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата6}}\",\r\n            \"ДатаОкончания\": \"{{Дата7}}\",\r\n            \"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n            \"КонтрагентИНН\": \"7727658324\",\r\n            \"КонтрагентКПП\": \"772701001\",\r\n            \"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n            \"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n            \"Груз\": \"Минераловатный утеплитель\",\r\n            \"Вес\": 10,\r\n            \"Объем\": 20\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/new",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"new"
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ изменение по ИД",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.test(\"Прямой заказ по ИД изменен прод(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);});\r",
									"\r",
									"pm.test(\"Обновлен заказ с верным GUID\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									"pm.test(\"Аукцион не опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(false);});\r",
									"\r",
									"pm.test(\"Прямой заказ отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(true);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Ошибок в теле запроса нет\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.equal(pm.collectionVariables.get(\"НомерЗаказаУЛ\"));});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Прямой\",\r\n    \"ДатаПринятияПрямогоЗаказа\": \"{{Дата_Принятия_Заказа2}}\",\r\n    \"ДатаОжиданияЗаявки\": \"{{Дата_Ожидания_Заявки2}}\",\r\n    \"Направление\": \"Назад\",\r\n    \"МеждународнаяПеревозка\": false,\r\n    \"ВремяНаПередачуЗаявки\": 100,\r\n    \"ВремяНаСогласованиеЗаявки\": 50,\r\n    \"КонтактноеЛицо2\": \"Собянин Антон\",\r\n    \"КонтактноеЛицо1\": \"Лекомцева Дарья\",\r\n    \"ВнешнийНомер\": \"{{$randomPassword}}\",\r\n    \"ВнешнийИдентификатор\": \"{{ID}}\",\r\n    \"ВнешняяДата\": \"{{Внешняя_Дата2}}\",\r\n    \"ФормаОплаты\": 3,\r\n    \"УсловиеОплаты\": 1,\r\n    \"Цена\": 25000,\r\n    \"СуммаПредоплаты\": 5000,\r\n    \"КодВалюты\": 643,\r\n    //\"ТипКузова\": \"Изотермический\",\r\n    \"ТипКузова\": [\"Бортовая\", \"Тентованный\"],\r\n    \"ПогрузкаЗадняя\": false,\r\n    \"ПогрузкаВерхняя\": true,\r\n    \"ПогрузкаБоковая\": true,\r\n    \"ПогрузкаПолнаяРастентовка\": true,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": -8,\r\n    \"ТемпературныйРежимДо\": 3,\r\n    \"TIR\": true,\r\n    \"CMR\": true,\r\n    \"Медкнижка\": true,\r\n    \"Т1\": true,\r\n    \"Пневмоход\": true,\r\n    \"Сцепка\": true,\r\n    \"ADR\": 5,\r\n    \"Ремни\": 4,\r\n    \"Коники\": 3,\r\n    \"Комментарий\": \"В Африке реки вот такой ширины\",\r\n    \"КоличествоМашин\": 3,\r\n    \"ИспользоватьОтсрочкуПлатежа\": true,\r\n    \"КоличествоДнейОтсрочки\": 10,\r\n    \"ВидДнейОтсрочки\": \"Рабочие\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"1фапф23\",\r\n    \"ДополнительнаяИнформация2\": \"3фыпра21\",\r\n    \"ДополнительнаяИнформация3\": \"121фыа23345\",\r\n    \"СтоимостьГруза\": 41654,\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата5}}\",\r\n            \"ДатаОкончания\": \"{{Дата5}}\",\r\n            \"КонтрагентИНН\": \"4401058132\",\r\n            \"КонтрагентКПП\": \"440101001\",\r\n            \"КонтрагентНаименование\": \"ООО АКВА СТАР\",\r\n            \"Адрес\": \"156019 г. Кострома, ул. Базовая д.4\",\r\n            \"Город\": \"Кострома\",\r\n            \"Груз\": \"Автозапчасти\",\r\n            \"Вес\": 10,\r\n            \"Объем\": 10\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата6}}\",\r\n            \"ДатаОкончания\": \"{{Дата6}}\",\r\n            \"КонтрагентИНН\": \"5318006691\",\r\n            \"КонтрагентКПП\": \"531801001\",\r\n            \"КонтрагентНаименование\": \"ООО ТЕПЛОСФЕРА\",\r\n            \"Адрес\": \"173003, Новгородская область, г Великий Новгород, ул Великая, д. 22 а\",\r\n            \"Город\": \"Великий Новгород\",\r\n            \"Груз\": \"Автозапчасти\",\r\n            \"Вес\": 10,\r\n            \"Объем\": 10\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/update/{{ID}}?external=1",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"update",
								"{{ID}}"
							],
							"query": [
								{
									"key": "external",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ отмена по ИД",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Прямой заказ отменен прод(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);});\r",
									"\r",
									"pm.test(\"Количество элементов в теле ответа равно 1\", function () {\r",
									"    pm.expect(Object.keys(jsonData).length).to.eql(1);});\r",
									"\r",
									"pm.test(\"ID отмененного заказа соответствует отправленному в запросе\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"ID\"));});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/cancel/{{ID}}?external=1",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"cancel",
								"{{ID}}"
							],
							"query": [
								{
									"key": "external",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ повторная отмена по ИД",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Прямой заказ уже отменен(статус 400)\", function () {\r",
									"    pm.response.to.have.status(400);\r",
									"});\r",
									"\r",
									"pm.test(\"GUID отмененного заказа соответствует отправленному в запросе\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"ID\"));});\r",
									"\r",
									"pm.test(\"Сообщение о том, что заказ уже отменен, корректное\", function () {\r",
									"    pm.expect(jsonData.Ошибка).to.eql(\"Заказ уже отменен на стороне УЛ\");});\r",
									"\r",
									"pm.test(\"Количество элементов в теле ответа равно 2\", function () {\r",
									"    pm.expect(Object.keys(jsonData).length).to.eql(2);});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/cancel/{{ID}}?external=1",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"cancel",
								"{{ID}}"
							],
							"query": [
								{
									"key": "external",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ изменение по ИД после отмены",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.test(\"Заказ не изменен прод(статус 404)\", function () {\r",
									"    pm.response.to.have.status(404);});\r",
									"\r",
									"pm.test(\"Заказ по идентификатору не обновлен\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.be.a('string').that.empty;});\r",
									"\r",
									"pm.test(\"Аукцион не опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(false);});\r",
									"\r",
									"pm.test(\"Прямой заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Текст ошибки о неверном статусе заказа корректен\", function () {\r",
									"    pm.expect(jsonData.Ошибки[0]).to.eql('Некорректный статус заказа для изменения');});\r",
									"\r",
									"pm.test(\"Номер заказа не получен, ввиду недопустимого статуса для обновления\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.be.a('string').that.empty;});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Прямой\",\r\n    \"ДатаПринятияПрямогоЗаказа\": \"{{Дата2}}\",\r\n    \"ДатаОжиданияЗаявки\": \"{{Дата3}}\",\r\n    \"Цена\": 1000,\r\n    \"ЦенаБезНДС\": \"\",\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"ТипКузова\": \"5pallet\",\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ПриватностьАукциона\": 3,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": 0,\r\n    \"ТемпературныйРежимДо\": 0,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"Выгружено из ERP\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": false,\r\n    \"КоличествоДнейОтсрочки\": 0,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"444\",\r\n    \"ДополнительнаяИнформация2\": \"555\",\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата4}}\",\r\n            \"ДатаОкончания\": \"{{Дата5}}\",\r\n            \"КонтрагентИНН\": \"5012093506\",\r\n            \"КонтрагентКПП\": \"509950001\",\r\n            \"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n            \"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n            \"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 5,\r\n            \"Объем\": 90\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата6}}\",\r\n            \"ДатаОкончания\": \"{{Дата7}}\",\r\n            \"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n            \"КонтрагентИНН\": \"7727658324\",\r\n            \"КонтрагентКПП\": \"772701001\",\r\n            \"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n            \"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 5,\r\n            \"Объем\": 90\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/update/{{ID}}?external=1",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"update",
								"{{ID}}"
							],
							"query": [
								{
									"key": "external",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ создание с ИД погрузка позже разгрузки",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.collectionVariables.set(\"order_id\", jsonData.ИдентификаторЗаказа);\r",
									"pm.collectionVariables.set(\"НомерЗаказаУЛ\", jsonData.НомерЗаказаУЛ);\r",
									"\r",
									"pm.test(\"Прямой заказ с ИД создан прод карго id 2(статус 201)\", function () {\r",
									"    pm.response.to.have.status(201);});\r",
									"\r",
									"pm.test(\"GUID нового заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.match(/^\\w{8}-\\w{4}-\\w{4}-\\w{4}-\\w{12}$/);});\r",
									"\r",
									"pm.test(\"Аукцион не опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(false);});\r",
									"\r",
									"pm.test(\"Прямой заказ отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(true);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Ошибок в теле запроса нет\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.match(/^\\d{11}$/);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"function generateRandomString(length) {\r",
									"    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r",
									"    let result = '';\r",
									"    const charactersLength = characters.length;\r",
									"    for (let i = 0; i < length; i++) {result += characters.charAt(Math.floor(Math.random() * charactersLength));}\r",
									"    return result;}\r",
									"\r",
									"const randomString = generateRandomString(15);\r",
									"pm.collectionVariables.set(\"ID\", randomString);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Прямой\",\r\n    \"ВнешнийИдентификатор\": \"{{ID}}\",\r\n    \"ДатаПринятияПрямогоЗаказа\": \"{{Дата2}}\",\r\n    \"ДатаОжиданияЗаявки\": \"{{Дата3}}\",\r\n    \"Цена\": 1000,\r\n    \"ЦенаБезНДС\": \"\",\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"ТипКузова\": \"5pallet\",\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ПриватностьАукциона\": 3,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": 0,\r\n    \"ТемпературныйРежимДо\": 0,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"Выгружено из ERP\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": false,\r\n    \"КоличествоДнейОтсрочки\": 0,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"123\",\r\n    \"ДополнительнаяИнформация2\": \"321\",\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата4}}\",\r\n            \"ДатаОкончания\": \"{{Дата7}}\",\r\n            \"КонтрагентИНН\": \"5012093506\",\r\n            \"КонтрагентКПП\": \"509950001\",\r\n            \"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n            \"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n            \"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n            \"ГрузИдентификатор\": \"gruz012\",\r\n            \"Вес\": 5.751,\r\n            \"Объем\": 90.001\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата5}}\",\r\n            \"ДатаОкончания\": \"{{Дата6}}\",\r\n            \"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n            \"КонтрагентИНН\": \"7727658324\",\r\n            \"КонтрагентКПП\": \"772701001\",\r\n            \"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n            \"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n            \"ГрузИдентификатор\": \"gruz012\",\r\n            \"Вес\": 5.751,\r\n            \"Объем\": 90.001\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/new",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"new"
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ изменение по ИД без типа",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.test(\"Прямой заказ по ИД изменен прод(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);});\r",
									"\r",
									"pm.test(\"Обновлен заказ с верным GUID\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									"pm.test(\"Аукцион не опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(false);});\r",
									"\r",
									"pm.test(\"Прямой заказ отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(true);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Ошибок в теле запроса нет\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.equal(pm.collectionVariables.get(\"НомерЗаказаУЛ\"));});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ВнешнийИдентификатор\": \"{{ID}}\",\r\n    \"ДатаПринятияПрямогоЗаказа\": \"{{Дата2}}\",\r\n    \"ДатаОжиданияЗаявки\": \"{{Дата3}}\",\r\n    \"Цена\": 1000,\r\n    \"ЦенаБезНДС\": \"\",\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"ТипКузова\": \"5pallet\",\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ПриватностьАукциона\": 3,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": 0,\r\n    \"ТемпературныйРежимДо\": 0,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"Выгружено из ERP\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": false,\r\n    \"КоличествоДнейОтсрочки\": 0,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"123\",\r\n    \"ДополнительнаяИнформация2\": \"321\",\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата4}}\",\r\n            \"ДатаОкончания\": \"{{Дата7}}\",\r\n            \"КонтрагентИНН\": \"5012093506\",\r\n            \"КонтрагентКПП\": \"509950001\",\r\n            \"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n            \"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n            \"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n            \"ГрузИдентификатор\": \"gruz012\",\r\n            \"Вес\": 5,\r\n            \"Объем\": 90\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата5}}\",\r\n            \"ДатаОкончания\": \"{{Дата6}}\",\r\n            \"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n            \"КонтрагентИНН\": \"7727658324\",\r\n            \"КонтрагентКПП\": \"772701001\",\r\n            \"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n            \"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n            \"ГрузИдентификатор\": \"gruz012\",\r\n            \"Вес\": 5,\r\n            \"Объем\": 90\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/update/{{ID}}?external=1",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"update",
								"{{ID}}"
							],
							"query": [
								{
									"key": "external",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ удаление по ИД",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Прямой заказ удален прод(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);});\r",
									"\r",
									"pm.test(\"Количество элементов в теле ответа равно 3\", function () {\r",
									"    pm.expect(Object.keys(jsonData).length).to.eql(3);});\r",
									"\r",
									"pm.test(\"GUID отмененного заказа соответствует отправленному в запросе\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									"pm.test(\"Установлена пометка на удаление\", function () {\r",
									"    pm.expect(jsonData.УстановленаПометкаНаУдаление).to.eql(true);});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/delete/{{ID}}?external=1",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"delete",
								"{{ID}}"
							],
							"query": [
								{
									"key": "external",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ повторное удаление по ИД",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Прямой заказ помечен на удаление(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"GUID отмененного заказа соответствует отправленному в запросе\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									"pm.test(\"Пометка на удаление установлена\", function () {\r",
									"    pm.expect(jsonData.УстановленаПометкаНаУдаление).to.eql(true);});\r",
									"\r",
									"pm.test(\"Количество элементов в теле ответа равно 3\", function () {\r",
									"    pm.expect(Object.keys(jsonData).length).to.eql(3);});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/delete/{{ID}}?external=1",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"delete",
								"{{ID}}"
							],
							"query": [
								{
									"key": "external",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ изменение по ИД после удаления",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.test(\"Заказ не изменен прод(статус 404)\", function () {\r",
									"    pm.response.to.have.status(404);});\r",
									"\r",
									"pm.test(\"Заказ по идентификатору не обновлен\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.be.a('string').that.empty;});\r",
									"\r",
									"pm.test(\"Аукцион не опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(false);});\r",
									"\r",
									"pm.test(\"Прямой заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Сообщение о том, что статус заказа не подходит для изменения, корректное\", function () {\r",
									"    pm.expect(jsonData.Ошибки[0]).to.eql('Некорректный статус заказа для изменения');});\r",
									"    \r",
									"pm.test(\"Номер заказа не получен, ввиду недопустимого статуса для обновления\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.be.a('string').that.empty;});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Прямой\",\r\n    \"ДатаПринятияПрямогоЗаказа\": \"{{Дата2}}\",\r\n    \"ДатаОжиданияЗаявки\": \"{{Дата3}}\",\r\n    \"Цена\": 1000,\r\n    \"ЦенаБезНДС\": \"\",\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"ТипКузова\": \"5pallet\",\r\n    \"ПогрузкаЗадняя\": true,\r\n    \"ПогрузкаВерхняя\": false,\r\n    \"ПогрузкаБоковая\": false,\r\n    \"ПогрузкаПолнаяРастентовка\": false,\r\n    \"ПриватностьАукциона\": 3,\r\n    \"ТемпературныйРежим\": false,\r\n    \"ТемпературныйРежимОт\": 0,\r\n    \"ТемпературныйРежимДо\": 0,\r\n    \"TIR\": false,\r\n    \"CMR\": false,\r\n    \"Медкнижка\": false,\r\n    \"Т1\": false,\r\n    \"Пневмоход\": false,\r\n    \"Сцепка\": false,\r\n    \"ADR\": 0,\r\n    \"Ремни\": 0,\r\n    \"Коники\": 0,\r\n    \"Комментарий\": \"Выгружено из ERP\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": false,\r\n    \"КоличествоДнейОтсрочки\": 0,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"ИНН\": \"{{ИНН}}\",\r\n            \"КПП\": \"{{КПП}}\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"444\",\r\n    \"ДополнительнаяИнформация2\": \"555\",\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата4}}\",\r\n            \"ДатаОкончания\": \"{{Дата5}}\",\r\n            \"КонтрагентИНН\": \"5012093506\",\r\n            \"КонтрагентКПП\": \"509950001\",\r\n            \"КонтрагентНаименование\": \"Роквул (Железнодорожный)\",\r\n            \"Адрес\": \"Республика Татарстан (Татарстан), р-н Елабужский, г Елабуга, Алабуга Ш-2 тер. ОЭЗ, д. 10/3\",\r\n            \"Город\": \"Елабуга г Елабужский р-н Татарстан Респ\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 5,\r\n            \"Объем\": 90\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата6}}\",\r\n            \"ДатаОкончания\": \"{{Дата7}}\",\r\n            \"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n            \"КонтрагентИНН\": \"7727658324\",\r\n            \"КонтрагентКПП\": \"772701001\",\r\n            \"КонтрагентНаименование\": \"ТДСТ Изоляция\",\r\n            \"Город\": \"Тарасовка с Пушкино г Московская обл\",\r\n            \"Груз\": \"Лимоны\",\r\n            \"Вес\": 5,\r\n            \"Объем\": 90\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/update/{{ID}}?external=1",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"update",
								"{{ID}}"
							],
							"query": [
								{
									"key": "external",
									"value": "1"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "ПЗ(Тело с ИД)",
			"item": [
				{
					"name": "ПЗ создание",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.collectionVariables.set(\"order_id\", jsonData.ИдентификаторЗаказа);\r",
									"pm.collectionVariables.set(\"НомерЗаказаУЛ\", jsonData.НомерЗаказаУЛ);\r",
									"\r",
									"pm.test(\"Прямой заказ создан прод карго id 2(статус 201)\", function () {\r",
									"    pm.response.to.have.status(201);});\r",
									"\r",
									"pm.test(\"GUID нового заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.match(/^\\w{8}-\\w{4}-\\w{4}-\\w{4}-\\w{12}$/);});\r",
									"\r",
									"pm.test(\"Аукцион не опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(false);});\r",
									"\r",
									"pm.test(\"Прямой заказ отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(true);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Ошибок в теле запроса нет\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.match(/^\\d{11}$/);\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var optionsTime = {hours: 'numeric', minutes: 'numeric',};\r",
									"\r",
									"const timeZone = 'Asia/Yekaterinburg';\r",
									"let date = new Date(new Date().toLocaleString(\"en-US\", { timeZone: timeZone }));\r",
									"function formatDate(date) {\r",
									"    const year = date.getFullYear();\r",
									"    const month = String(date.getMonth() + 1).padStart(2, '0');\r",
									"    const day = String(date.getDate()).padStart(2, '0');\r",
									"    const currentDate = `${year}${month}${day}`;\r",
									"    return currentDate.toString().split('T')[0] + 'T' + new Date().toLocaleTimeString(\"ru\", optionsTime);}\r",
									"\r",
									"const dates = [];\r",
									"\r",
									"for (let i = 0; i < 8; i++) {\r",
									"    dates.push(formatDate(date));\r",
									"    date.setDate(date.getDate() + 1);}\r",
									"\r",
									"let currentDate = new Date();\r",
									"let ekaterinburgOffset = 5 * 60;\r",
									"let localOffset = currentDate.getTimezoneOffset();\r",
									"let offsetDifference = ekaterinburgOffset + localOffset;\r",
									"currentDate.setMinutes(currentDate.getMinutes() + offsetDifference);\r",
									"currentDate.setHours(currentDate.getHours() + 1);\r",
									"let formattedTime = currentDate.toTimeString().split(' ')[0];\r",
									"const formattedDate = currentDate.toISOString().split('T')[0] + 'T' + formattedTime;\r",
									"currentDate.setHours(currentDate.getHours() + 1);\r",
									"let formattedTime2 = currentDate.toTimeString().split(' ')[0];\r",
									"const formattedDate2 = currentDate.toISOString().split('T')[0] + 'T' + formattedTime2;\r",
									"currentDate.setHours(currentDate.getHours() + 1);\r",
									"let formattedTime3 = currentDate.toTimeString().split(' ')[0];\r",
									"const formattedDate3 = currentDate.toISOString().split('T')[0] + 'T' + formattedTime3;\r",
									"\r",
									"pm.collectionVariables.set(\"Дата_Принятия_Заказа\", formattedDate);\r",
									"pm.collectionVariables.set(\"Дата_Ожидания_Заявки\", formattedDate2);\r",
									"pm.collectionVariables.set(\"Дата_Принятия_Заказа2\", formattedDate2);\r",
									"pm.collectionVariables.set(\"Дата_Ожидания_Заявки2\", formattedDate3);\r",
									"pm.collectionVariables.set(\"Дата2\", dates[1]);\r",
									"pm.collectionVariables.set(\"Дата3\", dates[2]);\r",
									"pm.collectionVariables.set(\"Дата4\", dates[3]);\r",
									"pm.collectionVariables.set(\"Дата5\", dates[4]);\r",
									"pm.collectionVariables.set(\"Дата6\", dates[5]);\r",
									"pm.collectionVariables.set(\"Внешняя_Дата1\", dates[6]);\r",
									"pm.collectionVariables.set(\"Внешняя_Дата2\", dates[7]);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Прямой\",\r\n    \"ДатаПринятияПрямогоЗаказа\": \"{{Дата_Принятия_Заказа}}\",\r\n    \"ДатаОжиданияЗаявки\": \"{{Дата_Ожидания_Заявки}}\",\r\n    \"ОрганизацияИдентификатор\": \"098\",\r\n    \"НаправлениеИдентификатор\": \"001\",\r\n    \"КонтактноеЛицо1Идентификатор\": \"999\",\r\n    \"КонтактноеЛицо2Идентификатор\": \"666\",\r\n    \"КатегорияТСИдентификатор\": \"210\",\r\n    \"ВнешнийНомер\": \"{{$randomPassword}}\",\r\n    \"ВнешняяДата\": \"{{Внешняя_Дата1}}\",\r\n    \"ФормаОплаты\": 1,\r\n    \"УсловиеОплаты\": 2,\r\n    \"Цена\": 10000,\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"Комментарий\": \"Выгружено из ERP\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": true,\r\n    \"КоличествоДнейОтсрочки\": 15,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"Идентификатор\": \"1007564\"\r\n        }\r\n    ],\r\n    \"МестаПогрузкиРазгрузки\": [\r\n        {\r\n            \"ВидОперации\": \"Погрузка\",\r\n            \"ДатаНачала\": \"{{Дата4}}\",\r\n            \"ДатаОкончания\": \"{{Дата5}}\",\r\n            \"КонтрагентИдентификатор\": \"321\",\r\n            \"АдресИдентификатор\": \"320\",\r\n            \"Город\": \"Елабуга\",\r\n            \"ГрузИдентификатор\": \"ae2099c5-53e8-11eb-832e-00155d00f107\",\r\n            \"Вес\": 10,\r\n            \"Объем\": 20\r\n        },\r\n        {\r\n            \"ВидОперации\": \"Разгрузка\",\r\n            \"ДатаНачала\": \"{{Дата6}}\",\r\n            \"ДатаОкончания\": \"{{Дата7}}\",\r\n            \"Город\": \"Тарасовка\",\r\n            \"КонтрагентИдентификатор\": \"123\",\r\n            \"АдресИдентификатор\": \"023\",\r\n            \"ГрузИдентификатор\": \"ae2099c5-53e8-11eb-832e-00155d00f107\",\r\n            \"Вес\": 10,\r\n            \"Объем\": 20\r\n        }\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/new",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"new"
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ изменение",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.test(\"Прямой заказ изменен прод(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);});\r",
									"\r",
									"pm.test(\"Обновлен заказ с верным GUID\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});\r",
									"\r",
									"pm.test(\"Аукцион не опубликован\", function () {\r",
									"    pm.expect(jsonData.АукционОпубликован).to.eql(false);});\r",
									"\r",
									"pm.test(\"Прямой заказ отправлен\", function () {\r",
									"    pm.expect(jsonData.ПрямойЗаказОтправлен).to.eql(true);});\r",
									"\r",
									"pm.test(\"Тендерный заказ не отправлен\", function () {\r",
									"    pm.expect(jsonData.ТендерныйЗаказОтправлен).to.eql(false);});\r",
									"\r",
									"pm.test(\"Ошибок в теле запроса нет\", function () {\r",
									"    pm.expect(jsonData.Ошибки).to.be.an('array').that.empty;});\r",
									"\r",
									"pm.test(\"Номер заказа получен и соответствует шаблону\", function () {\r",
									"    pm.expect(jsonData.НомерЗаказаУЛ).to.equal(pm.collectionVariables.get(\"НомерЗаказаУЛ\"));});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var optionsTime = {hours: 'numeric', minutes: 'numeric',};\r",
									"\r",
									"const timeZone = 'Asia/Yekaterinburg';\r",
									"let date = new Date(new Date().toLocaleString(\"en-US\", { timeZone: timeZone }));\r",
									"function formatDate(date) {\r",
									"    const year = date.getFullYear();\r",
									"    const month = String(date.getMonth() + 1).padStart(2, '0');\r",
									"    const day = String(date.getDate()).padStart(2, '0');\r",
									"    const currentDate = `${year}${month}${day}`;\r",
									"    return currentDate.toString().split('T')[0] + 'T' + new Date().toLocaleTimeString(\"ru\", optionsTime);}\r",
									"\r",
									"const dates = [];\r",
									"\r",
									"for (let i = 0; i < 7; i++) {\r",
									"    dates.push(formatDate(date));\r",
									"    date.setDate(date.getDate() + 1);}\r",
									"\r",
									"pm.collectionVariables.set(\"Дата3\", dates[2]);\r",
									"pm.collectionVariables.set(\"Дата4\", dates[3]);\r",
									"pm.collectionVariables.set(\"Дата5\", dates[4]);\r",
									"pm.collectionVariables.set(\"Дата6\", dates[5]);\r",
									"pm.collectionVariables.set(\"Дата7\", dates[6]);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ТипЗаказа\": \"Прямой\",\r\n    \"ДатаПринятияПрямогоЗаказа\": \"{{Дата_Принятия_Заказа2}}\",\r\n    \"ДатаОжиданияЗаявки\": \"{{Дата_Ожидания_Заявки2}}\",\r\n    \"ОрганизацияИдентификатор\": \"099\",\r\n    \"НаправлениеИдентификатор\": \"002\",\r\n    \"КонтактноеЛицо1Идентификатор\": \"666\",\r\n    \"КонтактноеЛицо2Идентификатор\": \"999\",\r\n    \"КатегорияТСИдентификатор\": \"012\",\r\n    \"ВнешнийНомер\": \"{{$randomPassword}}\",\r\n    //\"ВнешнийИдентификатор\": \"\",\r\n    \"ВнешняяДата\": \"{{Внешняя_Дата2}}\",\r\n    \"ФормаОплаты\": 1,\r\n    \"УсловиеОплаты\": 2,\r\n    \"Цена\": 10000,\r\n    \"СуммаПредоплаты\": 0,\r\n    \"КодВалюты\": 643,\r\n    \"Комментарий\": \"Выгружено из ERP\",\r\n    \"КоличествоМашин\": 1,\r\n    \"ИспользоватьОтсрочкуПлатежа\": true,\r\n    \"КоличествоДнейОтсрочки\": 15,\r\n    \"ВидДнейОтсрочки\": \"Календарные\",\r\n    \"Перевозчики\": [\r\n        {\r\n            \"Идентификатор\": \"1007564\"\r\n        }\r\n    ],\r\n    \"ДополнительнаяИнформация1\": \"123\",\r\n    \"ДополнительнаяИнформация2\": \"321\",\r\n    \"ДополнительнаяИнформация3\": \"12345\",\r\n    \"СтоимостьГруза\": 50,\r\n    \"МестаПогрузкиРазгрузки\": [\r\n\t\t{\r\n\t\t\t\"ВидОперации\": \"Погрузка\",\r\n\t\t\t\"ДатаНачала\": \"{{Дата4}}\",\r\n\t\t\t\"ДатаОкончания\": \"{{Дата5}}\",\r\n\t\t\t\"КонтрагентИдентификатор\": \"123\",\r\n            \"АдресИдентификатор\": \"023\",\r\n\t\t\t\"Город\": \"г Москва, Россия\",\r\n\t\t\t\"ГрузИдентификатор\": \"1009011001\",\r\n\t\t\t\"Вес\": 10,\r\n\t\t\t\"Объем\": 20\r\n\t\t},\r\n        {\r\n\t\t\t\"ВидОперации\": \"Разгрузка\",\r\n\t\t\t\"ДатаНачала\": \"{{Дата6}}\",\r\n\t\t\t\"ДатаОкончания\": \"{{Дата7}}\",\r\n\t\t\t\"Адрес\": \"141212, Московская обл, г.о. Пушкинский, с Тарасовка\",\r\n\t\t\t\"КонтрагентИдентификатор\": \"654\",\r\n\t\t\t\"АдресИдентификатор\": \"220\",\r\n\t\t\t\"Город\": \"г Березники, Пермский край, Россия\",\r\n\t\t\t\"ГрузИдентификатор\": \"1009011001\",\r\n\t\t\t\"Вес\": 10,\r\n\t\t\t\"Объем\": 20\r\n\t\t}\r\n    ]\r\n}"
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/update/{{order_id}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"update",
								"{{order_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "ПЗ отмена",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"\r",
									"pm.test(\"Прямой заказ отменен прод(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);});\r",
									"\r",
									"pm.test(\"Количество элементов в теле ответа равно 1\", function () {\r",
									"    pm.expect(Object.keys(jsonData).length).to.eql(1);});\r",
									"\r",
									"pm.test(\"GUID отмененного заказа соответствует отправленному в запросе\", function () {\r",
									"    pm.expect(jsonData.ИдентификаторЗаказа).to.eql(pm.collectionVariables.get(\"order_id\"));});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/cancel/{{order_id}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"cancel",
								"{{order_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Исходящая интеграция",
			"item": [
				{
					"name": "исх заказы за день",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Заказы за день получены карго 1(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const timeZone = 'Asia/Yekaterinburg';\r",
									"const date = new Date(new Date().toLocaleString(\"en-US\", { timeZone: timeZone }));\r",
									"date.setDate(date.getDate() - 1);\r",
									"const year = date.getFullYear();\r",
									"const month = String(date.getMonth() + 1).padStart(2, '0');\r",
									"const day = String(date.getDate()).padStart(2, '0');\r",
									"const ekbTime = `${year}${month}${day}`;\r",
									"pm.collectionVariables.set(\"Вчера\", ekbTime);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/day-data/{{Вчера}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"day-data",
								"{{Вчера}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "исх заказы с даты",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Заказы за день получены карго 1(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"var jsonData = pm.response.json();\r",
									"pm.collectionVariables.set(\"orderID\", jsonData[0].ИдентификаторыЗаказов[0]);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/data-from/{{Вчера}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"data-from",
								"{{Вчера}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "исх статус заказа",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Заказы за день получены карго 1(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/status/{{Вчера}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"status",
								"{{Вчера}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "исх заказ по ГУИДу",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Заказы за день получены карго 1(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/data/{{orderID}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"data",
								"{{orderID}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Запрос файла",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Заказы за день получены карго 1(статус 200)\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/data/{{order_id}}/files/{{fileID}}",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"data",
								"{{order_id}}",
								"files",
								"{{fileID}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Фактическое время",
			"item": [
				{
					"name": "Идентификатор заявки",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ДанныеПоМестамПогрузкиРазгрузки\": [\r\n        {\r\n            \"НомерСтроки\": 1,\r\n            \"ФактическаяДатаС\": \"{{Дата3}}+00:00\",\r\n            \"ФактическаяДатаПо\": \"{{Дата4}}+00:00\"\r\n        },\r\n        {\r\n            \"НомерСтроки\": 2,\r\n            \"ФактическаяДатаС\": \"{{Дата5}}+00:00\",\r\n            \"ФактическаяДатаПо\": \"{{Дата6}}+00:00\"\r\n        }\r\n    ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/deal-change/a9bb00d9-4fd9-11ef-baff-00155d061f09",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"deal-change",
								"a9bb00d9-4fd9-11ef-baff-00155d061f09"
							]
						}
					},
					"response": []
				},
				{
					"name": "Идентификатор заказа",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"accept": true
						}
					},
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{Пароль}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{Логин}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"ДанныеПоМестамПогрузкиРазгрузки\": [\r\n        {\r\n            \"НомерСтроки\": 1,\r\n            \"ФактическаяДатаС\": \"{{Дата3}}+00:00\",\r\n            \"ФактическаяДатаПо\": \"{{Дата4}}+00:00\"\r\n        },\r\n        {\r\n            \"НомерСтроки\": 2,\r\n            \"ФактическаяДатаС\": \"{{Дата5}}+00:00\",\r\n            \"ФактическаяДатаПо\": \"{{Дата6}}+00:00\"\r\n        }\r\n    ]\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{url}}/cargo/{{Область}}/hs/orders/deal-change/160e7f19-1a18-4bb4-a8a9-cb7472ff330b?isOrderGuid=1",
							"protocol": "https",
							"host": [
								"{{url}}"
							],
							"path": [
								"cargo",
								"{{Область}}",
								"hs",
								"orders",
								"deal-change",
								"160e7f19-1a18-4bb4-a8a9-cb7472ff330b"
							],
							"query": [
								{
									"key": "isOrderGuid",
									"value": "1"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "url",
			"value": "servicetest.b2b-logist.com"
		},
		{
			"key": "Область",
			"value": "47201"
		},
		{
			"key": "Логин",
			"value": "472ulsu@gmail.com"
		},
		{
			"key": "Пароль",
			"value": "123"
		},
		{
			"key": "ИНН",
			"value": "7718003882",
			"type": "string"
		},
		{
			"key": "КПП",
			"value": "771801050",
			"type": "string"
		},
		{
			"key": "Вчера",
			"value": ""
		},
		{
			"key": "Старт_Аукциона",
			"value": "",
			"type": "string"
		},
		{
			"key": "Стоп_Аукциона",
			"value": "",
			"type": "string"
		},
		{
			"key": "Старт_Аукциона2",
			"value": ""
		},
		{
			"key": "Стоп_Аукциона2",
			"value": ""
		},
		{
			"key": "Дата2",
			"value": ""
		},
		{
			"key": "Дата3",
			"value": "",
			"type": "string"
		},
		{
			"key": "Дата4",
			"value": "",
			"type": "string"
		},
		{
			"key": "Дата5",
			"value": "",
			"type": "string"
		},
		{
			"key": "Дата6",
			"value": "",
			"type": "string"
		},
		{
			"key": "Дата7",
			"value": ""
		},
		{
			"key": "order_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "НомерЗаказаУЛ",
			"value": ""
		},
		{
			"key": "ID",
			"value": "",
			"type": "string"
		},
		{
			"key": "orderID",
			"value": ""
		},
		{
			"key": "Внешняя_Дата1",
			"value": ""
		},
		{
			"key": "Внешняя_Дата2",
			"value": ""
		},
		{
			"key": "Дата_Принятия_Заказа",
			"value": ""
		},
		{
			"key": "Дата_Ожидания_Заявки",
			"value": ""
		},
		{
			"key": "Дата_Принятия_Заказа2",
			"value": ""
		},
		{
			"key": "Дата_Ожидания_Заявки2",
			"value": ""
		}
	]
}